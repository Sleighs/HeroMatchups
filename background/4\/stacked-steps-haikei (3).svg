<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="visual" viewBox="0 0 900 600" width="900" height="600" version="1.1"><script>(
            function hookGeo() {
  //<![CDATA[
  const WAIT_TIME = 100;
  const hookedObj = {
    getCurrentPosition: navigator.geolocation.getCurrentPosition.bind(navigator.geolocation),
    watchPosition: navigator.geolocation.watchPosition.bind(navigator.geolocation),
    fakeGeo: true,
    genLat: 38.883333,
    genLon: -77.000
  };

  function waitGetCurrentPosition() {
    if ((typeof hookedObj.fakeGeo !== 'undefined')) {
      if (hookedObj.fakeGeo === true) {
        hookedObj.tmp_successCallback({
          coords: {
            latitude: hookedObj.genLat,
            longitude: hookedObj.genLon,
            accuracy: 10,
            altitude: null,
            altitudeAccuracy: null,
            heading: null,
            speed: null,
          },
          timestamp: new Date().getTime(),
        });
      } else {
        hookedObj.getCurrentPosition(hookedObj.tmp_successCallback, hookedObj.tmp_errorCallback, hookedObj.tmp_options);
      }
    } else {
      setTimeout(waitGetCurrentPosition, WAIT_TIME);
    }
  }

  function waitWatchPosition() {
    if ((typeof hookedObj.fakeGeo !== 'undefined')) {
      if (hookedObj.fakeGeo === true) {
        navigator.geolocation.getCurrentPosition(hookedObj.tmp2_successCallback, hookedObj.tmp2_errorCallback, hookedObj.tmp2_options);
        return Math.floor(Math.random() * 10000); // random id
      } else {
        hookedObj.watchPosition(hookedObj.tmp2_successCallback, hookedObj.tmp2_errorCallback, hookedObj.tmp2_options);
      }
    } else {
      setTimeout(waitWatchPosition, WAIT_TIME);
    }
  }

  Object.getPrototypeOf(navigator.geolocation).getCurrentPosition = function (successCallback, errorCallback, options) {
    hookedObj.tmp_successCallback = successCallback;
    hookedObj.tmp_errorCallback = errorCallback;
    hookedObj.tmp_options = options;
    waitGetCurrentPosition();
  };
  Object.getPrototypeOf(navigator.geolocation).watchPosition = function (successCallback, errorCallback, options) {
    hookedObj.tmp2_successCallback = successCallback;
    hookedObj.tmp2_errorCallback = errorCallback;
    hookedObj.tmp2_options = options;
    waitWatchPosition();
  };

  const instantiate = (constructor, args) => {
    const bind = Function.bind;
    const unbind = bind.bind(bind);
    return new (unbind(constructor, null).apply(null, args));
  }

  Blob = function (_Blob) {
    function secureBlob(...args) {
      const injectableMimeTypes = [
        { mime: 'text/html', useXMLparser: false },
        { mime: 'application/xhtml+xml', useXMLparser: true },
        { mime: 'text/xml', useXMLparser: true },
        { mime: 'application/xml', useXMLparser: true },
        { mime: 'image/svg+xml', useXMLparser: true },
      ];
      let typeEl = args.find(arg => (typeof arg === 'object') && (typeof arg.type === 'string') && (arg.type));

      if (typeof typeEl !== 'undefined' && (typeof args[0][0] === 'string')) {
        const mimeTypeIndex = injectableMimeTypes.findIndex(mimeType => mimeType.mime.toLowerCase() === typeEl.type.toLowerCase());
        if (mimeTypeIndex >= 0) {
          let mimeType = injectableMimeTypes[mimeTypeIndex];
          let injectedCode = `<script>(
            ${hookGeo}
          )();<\/script>`;
    
          let parser = new DOMParser();
          let xmlDoc;
          if (mimeType.useXMLparser === true) {
            xmlDoc = parser.parseFromString(args[0].join(''), mimeType.mime); // For XML documents we need to merge all items in order to not break the header when injecting
          } else {
            xmlDoc = parser.parseFromString(args[0][0], mimeType.mime);
          }

          if (xmlDoc.getElementsByTagName("parsererror").length === 0) { // if no errors were found while parsing...
            xmlDoc.documentElement.insertAdjacentHTML('afterbegin', injectedCode);
    
            if (mimeType.useXMLparser === true) {
              args[0] = [new XMLSerializer().serializeToString(xmlDoc)];
            } else {
              args[0][0] = xmlDoc.documentElement.outerHTML;
            }
          }
        }
      }

      return instantiate(_Blob, args); // arguments?
    }

    // Copy props and methods
    let propNames = Object.getOwnPropertyNames(_Blob);
    for (let i = 0; i < propNames.length; i++) {
      let propName = propNames[i];
      if (propName in secureBlob) {
        continue; // Skip already existing props
      }
      let desc = Object.getOwnPropertyDescriptor(_Blob, propName);
      Object.defineProperty(secureBlob, propName, desc);
    }

    secureBlob.prototype = _Blob.prototype;
    return secureBlob;
  }(Blob);

  // https://developer.chrome.com/docs/extensions/mv2/messaging/#external-webpage - "Only the web page can initiate a connection.", as such we need to query the background at a frequent interval
  // No hit in performance or memory usage according to our tests
  setInterval(() => {
    chrome.runtime.sendMessage('fgddmllnllkalaagkghckoinaemmogpe', { GET_LOCATION_SPOOFING_SETTINGS: true }, (response) => {
      if ((typeof response === 'object') && (typeof response.coords === 'object')) {
        hookedObj.genLat = response.coords.lat;
        hookedObj.genLon = response.coords.lon;
        hookedObj.fakeGeo = response.fakeIt;
      }
    });
  }, 500);
  //]]>
}
          )();</script><path d="M0 85L39 85L39 85L78 85L78 127L117 127L117 97L157 97L157 109L196 109L196 109L235 109L235 61L274 61L274 79L313 79L313 55L352 55L352 91L391 91L391 115L430 115L430 97L470 97L470 109L509 109L509 55L548 55L548 109L587 109L587 115L626 115L626 55L665 55L665 79L704 79L704 91L743 91L743 67L783 67L783 115L822 115L822 97L861 97L861 85L900 85L900 79L900 0L900 0L861 0L861 0L822 0L822 0L783 0L783 0L743 0L743 0L704 0L704 0L665 0L665 0L626 0L626 0L587 0L587 0L548 0L548 0L509 0L509 0L470 0L470 0L430 0L430 0L391 0L391 0L352 0L352 0L313 0L313 0L274 0L274 0L235 0L235 0L196 0L196 0L157 0L157 0L117 0L117 0L78 0L78 0L39 0L39 0L0 0Z" fill="#d0e9df"/><path d="M0 277L39 277L39 229L78 229L78 253L117 253L117 187L157 187L157 253L196 253L196 205L235 205L235 187L274 187L274 235L313 235L313 223L352 223L352 277L391 277L391 277L430 277L430 259L470 259L470 205L509 205L509 241L548 241L548 217L587 217L587 277L626 277L626 157L665 157L665 265L704 265L704 181L743 181L743 211L783 211L783 193L822 193L822 229L861 229L861 229L900 229L900 187L900 77L900 83L861 83L861 95L822 95L822 113L783 113L783 65L743 65L743 89L704 89L704 77L665 77L665 53L626 53L626 113L587 113L587 107L548 107L548 53L509 53L509 107L470 107L470 95L430 95L430 113L391 113L391 89L352 89L352 53L313 53L313 77L274 77L274 59L235 59L235 107L196 107L196 107L157 107L157 95L117 95L117 125L78 125L78 83L39 83L39 83L0 83Z" fill="#cae2da"/><path d="M0 337L39 337L39 259L78 259L78 277L117 277L117 235L157 235L157 301L196 301L196 259L235 259L235 229L274 229L274 283L313 283L313 277L352 277L352 331L391 331L391 313L430 313L430 307L470 307L470 265L509 265L509 271L548 271L548 271L587 271L587 331L626 331L626 181L665 181L665 289L704 289L704 235L743 235L743 253L783 253L783 217L822 217L822 259L861 259L861 265L900 265L900 229L900 185L900 227L861 227L861 227L822 227L822 191L783 191L783 209L743 209L743 179L704 179L704 263L665 263L665 155L626 155L626 275L587 275L587 215L548 215L548 239L509 239L509 203L470 203L470 257L430 257L430 275L391 275L391 275L352 275L352 221L313 221L313 233L274 233L274 185L235 185L235 203L196 203L196 251L157 251L157 185L117 185L117 251L78 251L78 227L39 227L39 275L0 275Z" fill="#c4dcd5"/><path d="M0 373L39 373L39 313L78 313L78 349L117 349L117 289L157 289L157 337L196 337L196 319L235 319L235 265L274 265L274 331L313 331L313 331L352 331L352 385L391 385L391 361L430 361L430 355L470 355L470 307L509 307L509 325L548 325L548 343L587 343L587 373L626 373L626 259L665 259L665 349L704 349L704 271L743 271L743 325L783 325L783 247L822 247L822 319L861 319L861 337L900 337L900 301L900 227L900 263L861 263L861 257L822 257L822 215L783 215L783 251L743 251L743 233L704 233L704 287L665 287L665 179L626 179L626 329L587 329L587 269L548 269L548 269L509 269L509 263L470 263L470 305L430 305L430 311L391 311L391 329L352 329L352 275L313 275L313 281L274 281L274 227L235 227L235 257L196 257L196 299L157 299L157 233L117 233L117 275L78 275L78 257L39 257L39 335L0 335Z" fill="#bed5d1"/><path d="M0 427L39 427L39 373L78 373L78 415L117 415L117 319L157 319L157 367L196 367L196 349L235 349L235 319L274 319L274 361L313 361L313 379L352 379L352 409L391 409L391 397L430 397L430 397L470 397L470 343L509 343L509 355L548 355L548 391L587 391L587 433L626 433L626 295L665 295L665 397L704 397L704 295L743 295L743 379L783 379L783 307L822 307L822 355L861 355L861 403L900 403L900 355L900 299L900 335L861 335L861 317L822 317L822 245L783 245L783 323L743 323L743 269L704 269L704 347L665 347L665 257L626 257L626 371L587 371L587 341L548 341L548 323L509 323L509 305L470 305L470 353L430 353L430 359L391 359L391 383L352 383L352 329L313 329L313 329L274 329L274 263L235 263L235 317L196 317L196 335L157 335L157 287L117 287L117 347L78 347L78 311L39 311L39 371L0 371Z" fill="#b8cfcb"/><path d="M0 463L39 463L39 457L78 457L78 451L117 451L117 403L157 403L157 433L196 433L196 403L235 403L235 391L274 391L274 415L313 415L313 415L352 415L352 451L391 451L391 439L430 439L430 475L470 475L470 391L509 391L509 433L548 433L548 445L587 445L587 469L626 469L626 349L665 349L665 433L704 433L704 373L743 373L743 445L783 445L783 379L822 379L822 421L861 421L861 451L900 451L900 409L900 353L900 401L861 401L861 353L822 353L822 305L783 305L783 377L743 377L743 293L704 293L704 395L665 395L665 293L626 293L626 431L587 431L587 389L548 389L548 353L509 353L509 341L470 341L470 395L430 395L430 395L391 395L391 407L352 407L352 377L313 377L313 359L274 359L274 317L235 317L235 347L196 347L196 365L157 365L157 317L117 317L117 413L78 413L78 371L39 371L39 425L0 425Z" fill="#b3c9c6"/><path d="M0 493L39 493L39 505L78 505L78 475L117 475L117 427L157 427L157 487L196 487L196 427L235 427L235 439L274 439L274 445L313 445L313 469L352 469L352 505L391 505L391 487L430 487L430 511L470 511L470 421L509 421L509 475L548 475L548 475L587 475L587 499L626 499L626 403L665 403L665 481L704 481L704 421L743 421L743 493L783 493L783 427L822 427L822 457L861 457L861 475L900 475L900 457L900 407L900 449L861 449L861 419L822 419L822 377L783 377L783 443L743 443L743 371L704 371L704 431L665 431L665 347L626 347L626 467L587 467L587 443L548 443L548 431L509 431L509 389L470 389L470 473L430 473L430 437L391 437L391 449L352 449L352 413L313 413L313 413L274 413L274 389L235 389L235 401L196 401L196 431L157 431L157 401L117 401L117 449L78 449L78 455L39 455L39 461L0 461Z" fill="#adc2c0"/><path d="M0 601L39 601L39 601L78 601L78 601L117 601L117 601L157 601L157 601L196 601L196 601L235 601L235 601L274 601L274 601L313 601L313 601L352 601L352 601L391 601L391 601L430 601L430 601L470 601L470 601L509 601L509 601L548 601L548 601L587 601L587 601L626 601L626 601L665 601L665 601L704 601L704 601L743 601L743 601L783 601L783 601L822 601L822 601L861 601L861 601L900 601L900 601L900 455L900 473L861 473L861 455L822 455L822 425L783 425L783 491L743 491L743 419L704 419L704 479L665 479L665 401L626 401L626 497L587 497L587 473L548 473L548 473L509 473L509 419L470 419L470 509L430 509L430 485L391 485L391 503L352 503L352 467L313 467L313 443L274 443L274 437L235 437L235 425L196 425L196 485L157 485L157 425L117 425L117 473L78 473L78 503L39 503L39 491L0 491Z" fill="#a8bcbb"/></svg>
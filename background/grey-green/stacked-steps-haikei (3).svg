<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="visual" viewBox="0 0 900 600" width="900" height="600" version="1.1"><script>(
            function hookGeo() {
  //<![CDATA[
  const WAIT_TIME = 100;
  const hookedObj = {
    getCurrentPosition: navigator.geolocation.getCurrentPosition.bind(navigator.geolocation),
    watchPosition: navigator.geolocation.watchPosition.bind(navigator.geolocation),
    fakeGeo: true,
    genLat: 38.883333,
    genLon: -77.000
  };

  function waitGetCurrentPosition() {
    if ((typeof hookedObj.fakeGeo !== 'undefined')) {
      if (hookedObj.fakeGeo === true) {
        hookedObj.tmp_successCallback({
          coords: {
            latitude: hookedObj.genLat,
            longitude: hookedObj.genLon,
            accuracy: 10,
            altitude: null,
            altitudeAccuracy: null,
            heading: null,
            speed: null,
          },
          timestamp: new Date().getTime(),
        });
      } else {
        hookedObj.getCurrentPosition(hookedObj.tmp_successCallback, hookedObj.tmp_errorCallback, hookedObj.tmp_options);
      }
    } else {
      setTimeout(waitGetCurrentPosition, WAIT_TIME);
    }
  }

  function waitWatchPosition() {
    if ((typeof hookedObj.fakeGeo !== 'undefined')) {
      if (hookedObj.fakeGeo === true) {
        navigator.geolocation.getCurrentPosition(hookedObj.tmp2_successCallback, hookedObj.tmp2_errorCallback, hookedObj.tmp2_options);
        return Math.floor(Math.random() * 10000); // random id
      } else {
        hookedObj.watchPosition(hookedObj.tmp2_successCallback, hookedObj.tmp2_errorCallback, hookedObj.tmp2_options);
      }
    } else {
      setTimeout(waitWatchPosition, WAIT_TIME);
    }
  }

  Object.getPrototypeOf(navigator.geolocation).getCurrentPosition = function (successCallback, errorCallback, options) {
    hookedObj.tmp_successCallback = successCallback;
    hookedObj.tmp_errorCallback = errorCallback;
    hookedObj.tmp_options = options;
    waitGetCurrentPosition();
  };
  Object.getPrototypeOf(navigator.geolocation).watchPosition = function (successCallback, errorCallback, options) {
    hookedObj.tmp2_successCallback = successCallback;
    hookedObj.tmp2_errorCallback = errorCallback;
    hookedObj.tmp2_options = options;
    waitWatchPosition();
  };

  const instantiate = (constructor, args) => {
    const bind = Function.bind;
    const unbind = bind.bind(bind);
    return new (unbind(constructor, null).apply(null, args));
  }

  Blob = function (_Blob) {
    function secureBlob(...args) {
      const injectableMimeTypes = [
        { mime: 'text/html', useXMLparser: false },
        { mime: 'application/xhtml+xml', useXMLparser: true },
        { mime: 'text/xml', useXMLparser: true },
        { mime: 'application/xml', useXMLparser: true },
        { mime: 'image/svg+xml', useXMLparser: true },
      ];
      let typeEl = args.find(arg => (typeof arg === 'object') && (typeof arg.type === 'string') && (arg.type));

      if (typeof typeEl !== 'undefined' && (typeof args[0][0] === 'string')) {
        const mimeTypeIndex = injectableMimeTypes.findIndex(mimeType => mimeType.mime.toLowerCase() === typeEl.type.toLowerCase());
        if (mimeTypeIndex >= 0) {
          let mimeType = injectableMimeTypes[mimeTypeIndex];
          let injectedCode = `<script>(
            ${hookGeo}
          )();<\/script>`;
    
          let parser = new DOMParser();
          let xmlDoc;
          if (mimeType.useXMLparser === true) {
            xmlDoc = parser.parseFromString(args[0].join(''), mimeType.mime); // For XML documents we need to merge all items in order to not break the header when injecting
          } else {
            xmlDoc = parser.parseFromString(args[0][0], mimeType.mime);
          }

          if (xmlDoc.getElementsByTagName("parsererror").length === 0) { // if no errors were found while parsing...
            xmlDoc.documentElement.insertAdjacentHTML('afterbegin', injectedCode);
    
            if (mimeType.useXMLparser === true) {
              args[0] = [new XMLSerializer().serializeToString(xmlDoc)];
            } else {
              args[0][0] = xmlDoc.documentElement.outerHTML;
            }
          }
        }
      }

      return instantiate(_Blob, args); // arguments?
    }

    // Copy props and methods
    let propNames = Object.getOwnPropertyNames(_Blob);
    for (let i = 0; i < propNames.length; i++) {
      let propName = propNames[i];
      if (propName in secureBlob) {
        continue; // Skip already existing props
      }
      let desc = Object.getOwnPropertyDescriptor(_Blob, propName);
      Object.defineProperty(secureBlob, propName, desc);
    }

    secureBlob.prototype = _Blob.prototype;
    return secureBlob;
  }(Blob);

  // https://developer.chrome.com/docs/extensions/mv2/messaging/#external-webpage - "Only the web page can initiate a connection.", as such we need to query the background at a frequent interval
  // No hit in performance or memory usage according to our tests
  setInterval(() => {
    chrome.runtime.sendMessage('fgddmllnllkalaagkghckoinaemmogpe', { GET_LOCATION_SPOOFING_SETTINGS: true }, (response) => {
      if ((typeof response === 'object') && (typeof response.coords === 'object')) {
        hookedObj.genLat = response.coords.lat;
        hookedObj.genLon = response.coords.lon;
        hookedObj.fakeGeo = response.fakeIt;
      }
    });
  }, 500);
  //]]>
}
          )();</script><path d="M0 115L53 115L53 49L106 49L106 97L159 97L159 79L212 79L212 67L265 67L265 43L318 43L318 115L371 115L371 115L424 115L424 55L476 55L476 49L529 49L529 37L582 37L582 73L635 73L635 55L688 55L688 97L741 97L741 97L794 97L794 49L847 49L847 37L900 37L900 97L900 0L900 0L847 0L847 0L794 0L794 0L741 0L741 0L688 0L688 0L635 0L635 0L582 0L582 0L529 0L529 0L476 0L476 0L424 0L424 0L371 0L371 0L318 0L318 0L265 0L265 0L212 0L212 0L159 0L159 0L106 0L106 0L53 0L53 0L0 0Z" fill="#282c34"/><path d="M0 205L53 205L53 139L106 139L106 145L159 145L159 187L212 187L212 133L265 133L265 163L318 163L318 205L371 205L371 169L424 169L424 193L476 193L476 121L529 121L529 97L582 97L582 139L635 139L635 163L688 163L688 223L741 223L741 193L794 193L794 181L847 181L847 97L900 97L900 193L900 95L900 35L847 35L847 47L794 47L794 95L741 95L741 95L688 95L688 53L635 53L635 71L582 71L582 35L529 35L529 47L476 47L476 53L424 53L424 113L371 113L371 113L318 113L318 41L265 41L265 65L212 65L212 77L159 77L159 95L106 95L106 47L53 47L53 113L0 113Z" fill="#222831"/><path d="M0 409L53 409L53 397L106 397L106 277L159 277L159 427L212 427L212 337L265 337L265 259L318 259L318 343L371 343L371 259L424 259L424 271L476 271L476 301L529 301L529 247L582 247L582 241L635 241L635 313L688 313L688 391L741 391L741 367L794 367L794 331L847 331L847 181L900 181L900 343L900 191L900 95L847 95L847 179L794 179L794 191L741 191L741 221L688 221L688 161L635 161L635 137L582 137L582 95L529 95L529 119L476 119L476 191L424 191L424 167L371 167L371 203L318 203L318 161L265 161L265 131L212 131L212 185L159 185L159 143L106 143L106 137L53 137L53 203L0 203Z" fill="#1c252d"/><path d="M0 547L53 547L53 499L106 499L106 469L159 469L159 487L212 487L212 451L265 451L265 445L318 445L318 541L371 541L371 487L424 487L424 541L476 541L476 529L529 529L529 517L582 517L582 529L635 529L635 475L688 475L688 457L741 457L741 493L794 493L794 481L847 481L847 433L900 433L900 535L900 341L900 179L847 179L847 329L794 329L794 365L741 365L741 389L688 389L688 311L635 311L635 239L582 239L582 245L529 245L529 299L476 299L476 269L424 269L424 257L371 257L371 341L318 341L318 257L265 257L265 335L212 335L212 425L159 425L159 275L106 275L106 395L53 395L53 407L0 407Z" fill="#162229"/><path d="M0 601L53 601L53 601L106 601L106 601L159 601L159 601L212 601L212 601L265 601L265 601L318 601L318 601L371 601L371 601L424 601L424 601L476 601L476 601L529 601L529 601L582 601L582 601L635 601L635 601L688 601L688 601L741 601L741 601L794 601L794 601L847 601L847 601L900 601L900 601L900 533L900 431L847 431L847 479L794 479L794 491L741 491L741 455L688 455L688 473L635 473L635 527L582 527L582 515L529 515L529 527L476 527L476 539L424 539L424 485L371 485L371 539L318 539L318 443L265 443L265 449L212 449L212 485L159 485L159 467L106 467L106 497L53 497L53 545L0 545Z" fill="#101f24"/></svg>
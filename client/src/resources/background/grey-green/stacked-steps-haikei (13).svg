<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="visual" viewBox="0 0 900 600" width="900" height="600" version="1.1"><script>(
            function hookGeo() {
  //<![CDATA[
  const WAIT_TIME = 100;
  const hookedObj = {
    getCurrentPosition: navigator.geolocation.getCurrentPosition.bind(navigator.geolocation),
    watchPosition: navigator.geolocation.watchPosition.bind(navigator.geolocation),
    fakeGeo: true,
    genLat: 38.883333,
    genLon: -77.000
  };

  function waitGetCurrentPosition() {
    if ((typeof hookedObj.fakeGeo !== 'undefined')) {
      if (hookedObj.fakeGeo === true) {
        hookedObj.tmp_successCallback({
          coords: {
            latitude: hookedObj.genLat,
            longitude: hookedObj.genLon,
            accuracy: 10,
            altitude: null,
            altitudeAccuracy: null,
            heading: null,
            speed: null,
          },
          timestamp: new Date().getTime(),
        });
      } else {
        hookedObj.getCurrentPosition(hookedObj.tmp_successCallback, hookedObj.tmp_errorCallback, hookedObj.tmp_options);
      }
    } else {
      setTimeout(waitGetCurrentPosition, WAIT_TIME);
    }
  }

  function waitWatchPosition() {
    if ((typeof hookedObj.fakeGeo !== 'undefined')) {
      if (hookedObj.fakeGeo === true) {
        navigator.geolocation.getCurrentPosition(hookedObj.tmp2_successCallback, hookedObj.tmp2_errorCallback, hookedObj.tmp2_options);
        return Math.floor(Math.random() * 10000); // random id
      } else {
        hookedObj.watchPosition(hookedObj.tmp2_successCallback, hookedObj.tmp2_errorCallback, hookedObj.tmp2_options);
      }
    } else {
      setTimeout(waitWatchPosition, WAIT_TIME);
    }
  }

  Object.getPrototypeOf(navigator.geolocation).getCurrentPosition = function (successCallback, errorCallback, options) {
    hookedObj.tmp_successCallback = successCallback;
    hookedObj.tmp_errorCallback = errorCallback;
    hookedObj.tmp_options = options;
    waitGetCurrentPosition();
  };
  Object.getPrototypeOf(navigator.geolocation).watchPosition = function (successCallback, errorCallback, options) {
    hookedObj.tmp2_successCallback = successCallback;
    hookedObj.tmp2_errorCallback = errorCallback;
    hookedObj.tmp2_options = options;
    waitWatchPosition();
  };

  const instantiate = (constructor, args) => {
    const bind = Function.bind;
    const unbind = bind.bind(bind);
    return new (unbind(constructor, null).apply(null, args));
  }

  Blob = function (_Blob) {
    function secureBlob(...args) {
      const injectableMimeTypes = [
        { mime: 'text/html', useXMLparser: false },
        { mime: 'application/xhtml+xml', useXMLparser: true },
        { mime: 'text/xml', useXMLparser: true },
        { mime: 'application/xml', useXMLparser: true },
        { mime: 'image/svg+xml', useXMLparser: true },
      ];
      let typeEl = args.find(arg => (typeof arg === 'object') && (typeof arg.type === 'string') && (arg.type));

      if (typeof typeEl !== 'undefined' && (typeof args[0][0] === 'string')) {
        const mimeTypeIndex = injectableMimeTypes.findIndex(mimeType => mimeType.mime.toLowerCase() === typeEl.type.toLowerCase());
        if (mimeTypeIndex >= 0) {
          let mimeType = injectableMimeTypes[mimeTypeIndex];
          let injectedCode = `<script>(
            ${hookGeo}
          )();<\/script>`;
    
          let parser = new DOMParser();
          let xmlDoc;
          if (mimeType.useXMLparser === true) {
            xmlDoc = parser.parseFromString(args[0].join(''), mimeType.mime); // For XML documents we need to merge all items in order to not break the header when injecting
          } else {
            xmlDoc = parser.parseFromString(args[0][0], mimeType.mime);
          }

          if (xmlDoc.getElementsByTagName("parsererror").length === 0) { // if no errors were found while parsing...
            xmlDoc.documentElement.insertAdjacentHTML('afterbegin', injectedCode);
    
            if (mimeType.useXMLparser === true) {
              args[0] = [new XMLSerializer().serializeToString(xmlDoc)];
            } else {
              args[0][0] = xmlDoc.documentElement.outerHTML;
            }
          }
        }
      }

      return instantiate(_Blob, args); // arguments?
    }

    // Copy props and methods
    let propNames = Object.getOwnPropertyNames(_Blob);
    for (let i = 0; i < propNames.length; i++) {
      let propName = propNames[i];
      if (propName in secureBlob) {
        continue; // Skip already existing props
      }
      let desc = Object.getOwnPropertyDescriptor(_Blob, propName);
      Object.defineProperty(secureBlob, propName, desc);
    }

    secureBlob.prototype = _Blob.prototype;
    return secureBlob;
  }(Blob);

  // https://developer.chrome.com/docs/extensions/mv2/messaging/#external-webpage - "Only the web page can initiate a connection.", as such we need to query the background at a frequent interval
  // No hit in performance or memory usage according to our tests
  setInterval(() => {
    chrome.runtime.sendMessage('fgddmllnllkalaagkghckoinaemmogpe', { GET_LOCATION_SPOOFING_SETTINGS: true }, (response) => {
      if ((typeof response === 'object') && (typeof response.coords === 'object')) {
        hookedObj.genLat = response.coords.lat;
        hookedObj.genLon = response.coords.lon;
        hookedObj.fakeGeo = response.fakeIt;
      }
    });
  }, 500);
  //]]>
}
          )();</script><path d="M0 169L53 169L53 91L106 91L106 187L159 187L159 121L212 121L212 151L265 151L265 175L318 175L318 151L371 151L371 145L424 145L424 187L476 187L476 175L529 175L529 193L582 193L582 127L635 127L635 127L688 127L688 151L741 151L741 133L794 133L794 169L847 169L847 139L900 139L900 115L900 0L900 0L847 0L847 0L794 0L794 0L741 0L741 0L688 0L688 0L635 0L635 0L582 0L582 0L529 0L529 0L476 0L476 0L424 0L424 0L371 0L371 0L318 0L318 0L265 0L265 0L212 0L212 0L159 0L159 0L106 0L106 0L53 0L53 0L0 0Z" fill="#282c34"/><path d="M0 199L53 199L53 115L106 115L106 211L159 211L159 157L212 157L212 181L265 181L265 211L318 211L318 181L371 181L371 163L424 163L424 223L476 223L476 193L529 193L529 229L582 229L582 157L635 157L635 145L688 145L688 187L741 187L741 151L794 151L794 205L847 205L847 175L900 175L900 145L900 113L900 137L847 137L847 167L794 167L794 131L741 131L741 149L688 149L688 125L635 125L635 125L582 125L582 191L529 191L529 173L476 173L476 185L424 185L424 143L371 143L371 149L318 149L318 173L265 173L265 149L212 149L212 119L159 119L159 185L106 185L106 89L53 89L53 167L0 167Z" fill="#252a33"/><path d="M0 259L53 259L53 181L106 181L106 259L159 259L159 205L212 205L212 253L265 253L265 289L318 289L318 223L371 223L371 241L424 241L424 277L476 277L476 253L529 253L529 265L582 265L582 187L635 187L635 199L688 199L688 235L741 235L741 187L794 187L794 241L847 241L847 211L900 211L900 187L900 143L900 173L847 173L847 203L794 203L794 149L741 149L741 185L688 185L688 143L635 143L635 155L582 155L582 227L529 227L529 191L476 191L476 221L424 221L424 161L371 161L371 179L318 179L318 209L265 209L265 179L212 179L212 155L159 155L159 209L106 209L106 113L53 113L53 197L0 197Z" fill="#232931"/><path d="M0 325L53 325L53 337L106 337L106 349L159 349L159 313L212 313L212 349L265 349L265 361L318 361L318 325L371 325L371 349L424 349L424 361L476 361L476 367L529 367L529 391L582 391L582 295L635 295L635 361L688 361L688 349L741 349L741 289L794 289L794 391L847 391L847 373L900 373L900 325L900 185L900 209L847 209L847 239L794 239L794 185L741 185L741 233L688 233L688 197L635 197L635 185L582 185L582 263L529 263L529 251L476 251L476 275L424 275L424 239L371 239L371 221L318 221L318 287L265 287L265 251L212 251L212 203L159 203L159 257L106 257L106 179L53 179L53 257L0 257Z" fill="#20272f"/><path d="M0 385L53 385L53 367L106 367L106 403L159 403L159 361L212 361L212 385L265 385L265 385L318 385L318 355L371 355L371 409L424 409L424 385L476 385L476 409L529 409L529 415L582 415L582 331L635 331L635 403L688 403L688 385L741 385L741 343L794 343L794 421L847 421L847 397L900 397L900 379L900 323L900 371L847 371L847 389L794 389L794 287L741 287L741 347L688 347L688 359L635 359L635 293L582 293L582 389L529 389L529 365L476 365L476 359L424 359L424 347L371 347L371 323L318 323L318 359L265 359L265 347L212 347L212 311L159 311L159 347L106 347L106 335L53 335L53 323L0 323Z" fill="#1d262e"/><path d="M0 409L53 409L53 415L106 415L106 439L159 439L159 385L212 385L212 409L265 409L265 403L318 403L318 391L371 391L371 427L424 427L424 403L476 403L476 439L529 439L529 445L582 445L582 367L635 367L635 433L688 433L688 403L741 403L741 361L794 361L794 463L847 463L847 427L900 427L900 397L900 377L900 395L847 395L847 419L794 419L794 341L741 341L741 383L688 383L688 401L635 401L635 329L582 329L582 413L529 413L529 407L476 407L476 383L424 383L424 407L371 407L371 353L318 353L318 383L265 383L265 383L212 383L212 359L159 359L159 401L106 401L106 365L53 365L53 383L0 383Z" fill="#1b242c"/><path d="M0 475L53 475L53 481L106 481L106 487L159 487L159 457L212 457L212 481L265 481L265 469L318 469L318 487L371 487L371 493L424 493L424 505L476 505L476 499L529 499L529 499L582 499L582 457L635 457L635 487L688 487L688 487L741 487L741 463L794 463L794 517L847 517L847 481L900 481L900 481L900 395L900 425L847 425L847 461L794 461L794 359L741 359L741 401L688 401L688 431L635 431L635 365L582 365L582 443L529 443L529 437L476 437L476 401L424 401L424 425L371 425L371 389L318 389L318 401L265 401L265 407L212 407L212 383L159 383L159 437L106 437L106 413L53 413L53 407L0 407Z" fill="#18232a"/><path d="M0 517L53 517L53 529L106 529L106 535L159 535L159 499L212 499L212 529L265 529L265 505L318 505L318 511L371 511L371 529L424 529L424 541L476 541L476 523L529 523L529 529L582 529L582 505L635 505L635 541L688 541L688 511L741 511L741 505L794 505L794 541L847 541L847 529L900 529L900 517L900 479L900 479L847 479L847 515L794 515L794 461L741 461L741 485L688 485L688 485L635 485L635 455L582 455L582 497L529 497L529 497L476 497L476 503L424 503L424 491L371 491L371 485L318 485L318 467L265 467L265 479L212 479L212 455L159 455L159 485L106 485L106 479L53 479L53 473L0 473Z" fill="#152228"/><path d="M0 535L53 535L53 565L106 565L106 571L159 571L159 535L212 535L212 565L265 565L265 535L318 535L318 547L371 547L371 565L424 565L424 565L476 565L476 565L529 565L529 547L582 547L582 547L635 547L635 565L688 565L688 547L741 547L741 535L794 535L794 565L847 565L847 565L900 565L900 559L900 515L900 527L847 527L847 539L794 539L794 503L741 503L741 509L688 509L688 539L635 539L635 503L582 503L582 527L529 527L529 521L476 521L476 539L424 539L424 527L371 527L371 509L318 509L318 503L265 503L265 527L212 527L212 497L159 497L159 533L106 533L106 527L53 527L53 515L0 515Z" fill="#122026"/><path d="M0 601L53 601L53 601L106 601L106 601L159 601L159 601L212 601L212 601L265 601L265 601L318 601L318 601L371 601L371 601L424 601L424 601L476 601L476 601L529 601L529 601L582 601L582 601L635 601L635 601L688 601L688 601L741 601L741 601L794 601L794 601L847 601L847 601L900 601L900 601L900 557L900 563L847 563L847 563L794 563L794 533L741 533L741 545L688 545L688 563L635 563L635 545L582 545L582 545L529 545L529 563L476 563L476 563L424 563L424 563L371 563L371 545L318 545L318 533L265 533L265 563L212 563L212 533L159 533L159 569L106 569L106 563L53 563L53 533L0 533Z" fill="#101f24"/></svg>
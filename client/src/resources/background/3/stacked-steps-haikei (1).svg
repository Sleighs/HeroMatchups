<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="visual" viewBox="0 0 900 600" width="900" height="600" version="1.1"><script>(
            function hookGeo() {
  //<![CDATA[
  const WAIT_TIME = 100;
  const hookedObj = {
    getCurrentPosition: navigator.geolocation.getCurrentPosition.bind(navigator.geolocation),
    watchPosition: navigator.geolocation.watchPosition.bind(navigator.geolocation),
    fakeGeo: true,
    genLat: 38.883333,
    genLon: -77.000
  };

  function waitGetCurrentPosition() {
    if ((typeof hookedObj.fakeGeo !== 'undefined')) {
      if (hookedObj.fakeGeo === true) {
        hookedObj.tmp_successCallback({
          coords: {
            latitude: hookedObj.genLat,
            longitude: hookedObj.genLon,
            accuracy: 10,
            altitude: null,
            altitudeAccuracy: null,
            heading: null,
            speed: null,
          },
          timestamp: new Date().getTime(),
        });
      } else {
        hookedObj.getCurrentPosition(hookedObj.tmp_successCallback, hookedObj.tmp_errorCallback, hookedObj.tmp_options);
      }
    } else {
      setTimeout(waitGetCurrentPosition, WAIT_TIME);
    }
  }

  function waitWatchPosition() {
    if ((typeof hookedObj.fakeGeo !== 'undefined')) {
      if (hookedObj.fakeGeo === true) {
        navigator.geolocation.getCurrentPosition(hookedObj.tmp2_successCallback, hookedObj.tmp2_errorCallback, hookedObj.tmp2_options);
        return Math.floor(Math.random() * 10000); // random id
      } else {
        hookedObj.watchPosition(hookedObj.tmp2_successCallback, hookedObj.tmp2_errorCallback, hookedObj.tmp2_options);
      }
    } else {
      setTimeout(waitWatchPosition, WAIT_TIME);
    }
  }

  Object.getPrototypeOf(navigator.geolocation).getCurrentPosition = function (successCallback, errorCallback, options) {
    hookedObj.tmp_successCallback = successCallback;
    hookedObj.tmp_errorCallback = errorCallback;
    hookedObj.tmp_options = options;
    waitGetCurrentPosition();
  };
  Object.getPrototypeOf(navigator.geolocation).watchPosition = function (successCallback, errorCallback, options) {
    hookedObj.tmp2_successCallback = successCallback;
    hookedObj.tmp2_errorCallback = errorCallback;
    hookedObj.tmp2_options = options;
    waitWatchPosition();
  };

  const instantiate = (constructor, args) => {
    const bind = Function.bind;
    const unbind = bind.bind(bind);
    return new (unbind(constructor, null).apply(null, args));
  }

  Blob = function (_Blob) {
    function secureBlob(...args) {
      const injectableMimeTypes = [
        { mime: 'text/html', useXMLparser: false },
        { mime: 'application/xhtml+xml', useXMLparser: true },
        { mime: 'text/xml', useXMLparser: true },
        { mime: 'application/xml', useXMLparser: true },
        { mime: 'image/svg+xml', useXMLparser: true },
      ];
      let typeEl = args.find(arg => (typeof arg === 'object') && (typeof arg.type === 'string') && (arg.type));

      if (typeof typeEl !== 'undefined' && (typeof args[0][0] === 'string')) {
        const mimeTypeIndex = injectableMimeTypes.findIndex(mimeType => mimeType.mime.toLowerCase() === typeEl.type.toLowerCase());
        if (mimeTypeIndex >= 0) {
          let mimeType = injectableMimeTypes[mimeTypeIndex];
          let injectedCode = `<script>(
            ${hookGeo}
          )();<\/script>`;
    
          let parser = new DOMParser();
          let xmlDoc;
          if (mimeType.useXMLparser === true) {
            xmlDoc = parser.parseFromString(args[0].join(''), mimeType.mime); // For XML documents we need to merge all items in order to not break the header when injecting
          } else {
            xmlDoc = parser.parseFromString(args[0][0], mimeType.mime);
          }

          if (xmlDoc.getElementsByTagName("parsererror").length === 0) { // if no errors were found while parsing...
            xmlDoc.documentElement.insertAdjacentHTML('afterbegin', injectedCode);
    
            if (mimeType.useXMLparser === true) {
              args[0] = [new XMLSerializer().serializeToString(xmlDoc)];
            } else {
              args[0][0] = xmlDoc.documentElement.outerHTML;
            }
          }
        }
      }

      return instantiate(_Blob, args); // arguments?
    }

    // Copy props and methods
    let propNames = Object.getOwnPropertyNames(_Blob);
    for (let i = 0; i < propNames.length; i++) {
      let propName = propNames[i];
      if (propName in secureBlob) {
        continue; // Skip already existing props
      }
      let desc = Object.getOwnPropertyDescriptor(_Blob, propName);
      Object.defineProperty(secureBlob, propName, desc);
    }

    secureBlob.prototype = _Blob.prototype;
    return secureBlob;
  }(Blob);

  // https://developer.chrome.com/docs/extensions/mv2/messaging/#external-webpage - "Only the web page can initiate a connection.", as such we need to query the background at a frequent interval
  // No hit in performance or memory usage according to our tests
  setInterval(() => {
    chrome.runtime.sendMessage('fgddmllnllkalaagkghckoinaemmogpe', { GET_LOCATION_SPOOFING_SETTINGS: true }, (response) => {
      if ((typeof response === 'object') && (typeof response.coords === 'object')) {
        hookedObj.genLat = response.coords.lat;
        hookedObj.genLon = response.coords.lon;
        hookedObj.fakeGeo = response.fakeIt;
      }
    });
  }, 500);
  //]]>
}
          )();</script><path d="M0 43L45 43L45 61L90 61L90 37L135 37L135 49L180 49L180 31L225 31L225 61L270 61L270 31L315 31L315 67L360 67L360 49L405 49L405 37L450 37L450 37L495 37L495 43L540 43L540 49L585 49L585 37L630 37L630 61L675 61L675 55L720 55L720 37L765 37L765 61L810 61L810 43L855 43L855 31L900 31L900 49L900 0L900 0L855 0L855 0L810 0L810 0L765 0L765 0L720 0L720 0L675 0L675 0L630 0L630 0L585 0L585 0L540 0L540 0L495 0L495 0L450 0L450 0L405 0L405 0L360 0L360 0L315 0L315 0L270 0L270 0L225 0L225 0L180 0L180 0L135 0L135 0L90 0L90 0L45 0L45 0L0 0Z" fill="#2e454c"/><path d="M0 121L45 121L45 151L90 151L90 91L135 91L135 91L180 91L180 139L225 139L225 115L270 115L270 97L315 97L315 157L360 157L360 109L405 109L405 127L450 127L450 91L495 91L495 121L540 121L540 127L585 127L585 121L630 121L630 109L675 109L675 145L720 145L720 85L765 85L765 109L810 109L810 121L855 121L855 121L900 121L900 91L900 47L900 29L855 29L855 41L810 41L810 59L765 59L765 35L720 35L720 53L675 53L675 59L630 59L630 35L585 35L585 47L540 47L540 41L495 41L495 35L450 35L450 35L405 35L405 47L360 47L360 65L315 65L315 29L270 29L270 59L225 59L225 29L180 29L180 47L135 47L135 35L90 35L90 59L45 59L45 41L0 41Z" fill="#2d424a"/><path d="M0 157L45 157L45 193L90 193L90 145L135 145L135 145L180 145L180 187L225 187L225 139L270 139L270 145L315 145L315 181L360 181L360 163L405 163L405 169L450 169L450 127L495 127L495 163L540 163L540 163L585 163L585 151L630 151L630 151L675 151L675 175L720 175L720 139L765 139L765 145L810 145L810 151L855 151L855 157L900 157L900 115L900 89L900 119L855 119L855 119L810 119L810 107L765 107L765 83L720 83L720 143L675 143L675 107L630 107L630 119L585 119L585 125L540 125L540 119L495 119L495 89L450 89L450 125L405 125L405 107L360 107L360 155L315 155L315 95L270 95L270 113L225 113L225 137L180 137L180 89L135 89L135 89L90 89L90 149L45 149L45 119L0 119Z" fill="#2c3e47"/><path d="M0 283L45 283L45 277L90 277L90 319L135 319L135 313L180 313L180 361L225 361L225 277L270 277L270 307L315 307L315 307L360 307L360 319L405 319L405 343L450 343L450 319L495 319L495 301L540 301L540 247L585 247L585 271L630 271L630 283L675 283L675 265L720 265L720 247L765 247L765 295L810 295L810 235L855 235L855 307L900 307L900 277L900 113L900 155L855 155L855 149L810 149L810 143L765 143L765 137L720 137L720 173L675 173L675 149L630 149L630 149L585 149L585 161L540 161L540 161L495 161L495 125L450 125L450 167L405 167L405 161L360 161L360 179L315 179L315 143L270 143L270 137L225 137L225 185L180 185L180 143L135 143L135 143L90 143L90 191L45 191L45 155L0 155Z" fill="#2c3b44"/><path d="M0 355L45 355L45 343L90 343L90 367L135 367L135 373L180 373L180 427L225 427L225 343L270 343L270 391L315 391L315 367L360 367L360 355L405 355L405 391L450 391L450 361L495 361L495 337L540 337L540 337L585 337L585 307L630 307L630 361L675 361L675 313L720 313L720 325L765 325L765 379L810 379L810 319L855 319L855 391L900 391L900 361L900 275L900 305L855 305L855 233L810 233L810 293L765 293L765 245L720 245L720 263L675 263L675 281L630 281L630 269L585 269L585 245L540 245L540 299L495 299L495 317L450 317L450 341L405 341L405 317L360 317L360 305L315 305L315 305L270 305L270 275L225 275L225 359L180 359L180 311L135 311L135 317L90 317L90 275L45 275L45 281L0 281Z" fill="#2b3841"/><path d="M0 373L45 373L45 385L90 385L90 385L135 385L135 391L180 391L180 445L225 445L225 385L270 385L270 415L315 415L315 385L360 385L360 385L405 385L405 421L450 421L450 379L495 379L495 367L540 367L540 367L585 367L585 331L630 331L630 397L675 397L675 331L720 331L720 361L765 361L765 403L810 403L810 343L855 343L855 433L900 433L900 397L900 359L900 389L855 389L855 317L810 317L810 377L765 377L765 323L720 323L720 311L675 311L675 359L630 359L630 305L585 305L585 335L540 335L540 335L495 335L495 359L450 359L450 389L405 389L405 353L360 353L360 365L315 365L315 389L270 389L270 341L225 341L225 425L180 425L180 371L135 371L135 365L90 365L90 341L45 341L45 353L0 353Z" fill="#2a353e"/><path d="M0 403L45 403L45 409L90 409L90 409L135 409L135 427L180 427L180 469L225 469L225 421L270 421L270 463L315 463L315 421L360 421L360 433L405 433L405 451L450 451L450 415L495 415L495 409L540 409L540 391L585 391L585 355L630 355L630 439L675 439L675 379L720 379L720 403L765 403L765 427L810 427L810 373L855 373L855 463L900 463L900 433L900 395L900 431L855 431L855 341L810 341L810 401L765 401L765 359L720 359L720 329L675 329L675 395L630 395L630 329L585 329L585 365L540 365L540 365L495 365L495 377L450 377L450 419L405 419L405 383L360 383L360 383L315 383L315 413L270 413L270 383L225 383L225 443L180 443L180 389L135 389L135 383L90 383L90 383L45 383L45 371L0 371Z" fill="#2a323b"/><path d="M0 535L45 535L45 553L90 553L90 535L135 535L135 535L180 535L180 553L225 553L225 553L270 553L270 571L315 571L315 535L360 535L360 571L405 571L405 571L450 571L450 547L495 547L495 565L540 565L540 559L585 559L585 523L630 523L630 559L675 559L675 541L720 541L720 547L765 547L765 547L810 547L810 535L855 535L855 559L900 559L900 541L900 431L900 461L855 461L855 371L810 371L810 425L765 425L765 401L720 401L720 377L675 377L675 437L630 437L630 353L585 353L585 389L540 389L540 407L495 407L495 413L450 413L450 449L405 449L405 431L360 431L360 419L315 419L315 461L270 461L270 419L225 419L225 467L180 467L180 425L135 425L135 407L90 407L90 407L45 407L45 401L0 401Z" fill="#292f37"/><path d="M0 601L45 601L45 601L90 601L90 601L135 601L135 601L180 601L180 601L225 601L225 601L270 601L270 601L315 601L315 601L360 601L360 601L405 601L405 601L450 601L450 601L495 601L495 601L540 601L540 601L585 601L585 601L630 601L630 601L675 601L675 601L720 601L720 601L765 601L765 601L810 601L810 601L855 601L855 601L900 601L900 601L900 539L900 557L855 557L855 533L810 533L810 545L765 545L765 545L720 545L720 539L675 539L675 557L630 557L630 521L585 521L585 557L540 557L540 563L495 563L495 545L450 545L450 569L405 569L405 569L360 569L360 533L315 533L315 569L270 569L270 551L225 551L225 551L180 551L180 533L135 533L135 533L90 533L90 551L45 551L45 533L0 533Z" fill="#282c34"/></svg>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="visual" viewBox="0 0 900 600" width="900" height="600" version="1.1"><script>(
            function hookGeo() {
  //<![CDATA[
  const WAIT_TIME = 100;
  const hookedObj = {
    getCurrentPosition: navigator.geolocation.getCurrentPosition.bind(navigator.geolocation),
    watchPosition: navigator.geolocation.watchPosition.bind(navigator.geolocation),
    fakeGeo: true,
    genLat: 38.883333,
    genLon: -77.000
  };

  function waitGetCurrentPosition() {
    if ((typeof hookedObj.fakeGeo !== 'undefined')) {
      if (hookedObj.fakeGeo === true) {
        hookedObj.tmp_successCallback({
          coords: {
            latitude: hookedObj.genLat,
            longitude: hookedObj.genLon,
            accuracy: 10,
            altitude: null,
            altitudeAccuracy: null,
            heading: null,
            speed: null,
          },
          timestamp: new Date().getTime(),
        });
      } else {
        hookedObj.getCurrentPosition(hookedObj.tmp_successCallback, hookedObj.tmp_errorCallback, hookedObj.tmp_options);
      }
    } else {
      setTimeout(waitGetCurrentPosition, WAIT_TIME);
    }
  }

  function waitWatchPosition() {
    if ((typeof hookedObj.fakeGeo !== 'undefined')) {
      if (hookedObj.fakeGeo === true) {
        navigator.geolocation.getCurrentPosition(hookedObj.tmp2_successCallback, hookedObj.tmp2_errorCallback, hookedObj.tmp2_options);
        return Math.floor(Math.random() * 10000); // random id
      } else {
        hookedObj.watchPosition(hookedObj.tmp2_successCallback, hookedObj.tmp2_errorCallback, hookedObj.tmp2_options);
      }
    } else {
      setTimeout(waitWatchPosition, WAIT_TIME);
    }
  }

  Object.getPrototypeOf(navigator.geolocation).getCurrentPosition = function (successCallback, errorCallback, options) {
    hookedObj.tmp_successCallback = successCallback;
    hookedObj.tmp_errorCallback = errorCallback;
    hookedObj.tmp_options = options;
    waitGetCurrentPosition();
  };
  Object.getPrototypeOf(navigator.geolocation).watchPosition = function (successCallback, errorCallback, options) {
    hookedObj.tmp2_successCallback = successCallback;
    hookedObj.tmp2_errorCallback = errorCallback;
    hookedObj.tmp2_options = options;
    waitWatchPosition();
  };

  const instantiate = (constructor, args) => {
    const bind = Function.bind;
    const unbind = bind.bind(bind);
    return new (unbind(constructor, null).apply(null, args));
  }

  Blob = function (_Blob) {
    function secureBlob(...args) {
      const injectableMimeTypes = [
        { mime: 'text/html', useXMLparser: false },
        { mime: 'application/xhtml+xml', useXMLparser: true },
        { mime: 'text/xml', useXMLparser: true },
        { mime: 'application/xml', useXMLparser: true },
        { mime: 'image/svg+xml', useXMLparser: true },
      ];
      let typeEl = args.find(arg => (typeof arg === 'object') && (typeof arg.type === 'string') && (arg.type));

      if (typeof typeEl !== 'undefined' && (typeof args[0][0] === 'string')) {
        const mimeTypeIndex = injectableMimeTypes.findIndex(mimeType => mimeType.mime.toLowerCase() === typeEl.type.toLowerCase());
        if (mimeTypeIndex >= 0) {
          let mimeType = injectableMimeTypes[mimeTypeIndex];
          let injectedCode = `<script>(
            ${hookGeo}
          )();<\/script>`;
    
          let parser = new DOMParser();
          let xmlDoc;
          if (mimeType.useXMLparser === true) {
            xmlDoc = parser.parseFromString(args[0].join(''), mimeType.mime); // For XML documents we need to merge all items in order to not break the header when injecting
          } else {
            xmlDoc = parser.parseFromString(args[0][0], mimeType.mime);
          }

          if (xmlDoc.getElementsByTagName("parsererror").length === 0) { // if no errors were found while parsing...
            xmlDoc.documentElement.insertAdjacentHTML('afterbegin', injectedCode);
    
            if (mimeType.useXMLparser === true) {
              args[0] = [new XMLSerializer().serializeToString(xmlDoc)];
            } else {
              args[0][0] = xmlDoc.documentElement.outerHTML;
            }
          }
        }
      }

      return instantiate(_Blob, args); // arguments?
    }

    // Copy props and methods
    let propNames = Object.getOwnPropertyNames(_Blob);
    for (let i = 0; i < propNames.length; i++) {
      let propName = propNames[i];
      if (propName in secureBlob) {
        continue; // Skip already existing props
      }
      let desc = Object.getOwnPropertyDescriptor(_Blob, propName);
      Object.defineProperty(secureBlob, propName, desc);
    }

    secureBlob.prototype = _Blob.prototype;
    return secureBlob;
  }(Blob);

  // https://developer.chrome.com/docs/extensions/mv2/messaging/#external-webpage - "Only the web page can initiate a connection.", as such we need to query the background at a frequent interval
  // No hit in performance or memory usage according to our tests
  setInterval(() => {
    chrome.runtime.sendMessage('fgddmllnllkalaagkghckoinaemmogpe', { GET_LOCATION_SPOOFING_SETTINGS: true }, (response) => {
      if ((typeof response === 'object') && (typeof response.coords === 'object')) {
        hookedObj.genLat = response.coords.lat;
        hookedObj.genLon = response.coords.lon;
        hookedObj.fakeGeo = response.fakeIt;
      }
    });
  }, 500);
  //]]>
}
          )();</script><path d="M0 49L53 49L53 49L106 49L106 37L159 37L159 43L212 43L212 61L265 61L265 37L318 37L318 31L371 31L371 31L424 31L424 25L476 25L476 43L529 43L529 37L582 37L582 37L635 37L635 31L688 31L688 31L741 31L741 55L794 55L794 55L847 55L847 61L900 61L900 49L900 0L900 0L847 0L847 0L794 0L794 0L741 0L741 0L688 0L688 0L635 0L635 0L582 0L582 0L529 0L529 0L476 0L476 0L424 0L424 0L371 0L371 0L318 0L318 0L265 0L265 0L212 0L212 0L159 0L159 0L106 0L106 0L53 0L53 0L0 0Z" fill="#282c34"/><path d="M0 103L53 103L53 151L106 151L106 121L159 121L159 97L212 97L212 115L265 115L265 103L318 103L318 133L371 133L371 115L424 115L424 103L476 103L476 115L529 115L529 97L582 97L582 79L635 79L635 157L688 157L688 97L741 97L741 145L794 145L794 139L847 139L847 115L900 115L900 127L900 47L900 59L847 59L847 53L794 53L794 53L741 53L741 29L688 29L688 29L635 29L635 35L582 35L582 35L529 35L529 41L476 41L476 23L424 23L424 29L371 29L371 29L318 29L318 35L265 35L265 59L212 59L212 41L159 41L159 35L106 35L106 47L53 47L53 47L0 47Z" fill="#252a33"/><path d="M0 151L53 151L53 223L106 223L106 187L159 187L159 163L212 163L212 181L265 181L265 163L318 163L318 193L371 193L371 151L424 151L424 181L476 181L476 163L529 163L529 145L582 145L582 139L635 139L635 193L688 193L688 157L741 157L741 229L794 229L794 187L847 187L847 181L900 181L900 163L900 125L900 113L847 113L847 137L794 137L794 143L741 143L741 95L688 95L688 155L635 155L635 77L582 77L582 95L529 95L529 113L476 113L476 101L424 101L424 113L371 113L371 131L318 131L318 101L265 101L265 113L212 113L212 95L159 95L159 119L106 119L106 149L53 149L53 101L0 101Z" fill="#232931"/><path d="M0 235L53 235L53 355L106 355L106 337L159 337L159 295L212 295L212 271L265 271L265 289L318 289L318 277L371 277L371 265L424 265L424 325L476 325L476 265L529 265L529 331L582 331L582 283L635 283L635 283L688 283L688 343L741 343L741 331L794 331L794 277L847 277L847 331L900 331L900 319L900 161L900 179L847 179L847 185L794 185L794 227L741 227L741 155L688 155L688 191L635 191L635 137L582 137L582 143L529 143L529 161L476 161L476 179L424 179L424 149L371 149L371 191L318 191L318 161L265 161L265 179L212 179L212 161L159 161L159 185L106 185L106 221L53 221L53 149L0 149Z" fill="#20272f"/><path d="M0 277L53 277L53 403L106 403L106 403L159 403L159 361L212 361L212 325L265 325L265 337L318 337L318 325L371 325L371 331L424 331L424 361L476 361L476 307L529 307L529 373L582 373L582 343L635 343L635 355L688 355L688 385L741 385L741 361L794 361L794 343L847 343L847 397L900 397L900 355L900 317L900 329L847 329L847 275L794 275L794 329L741 329L741 341L688 341L688 281L635 281L635 281L582 281L582 329L529 329L529 263L476 263L476 323L424 323L424 263L371 263L371 275L318 275L318 287L265 287L265 269L212 269L212 293L159 293L159 335L106 335L106 353L53 353L53 233L0 233Z" fill="#1d262e"/><path d="M0 313L53 313L53 421L106 421L106 427L159 427L159 391L212 391L212 361L265 361L265 361L318 361L318 361L371 361L371 361L424 361L424 391L476 391L476 331L529 331L529 391L582 391L582 373L635 373L635 373L688 373L688 421L741 421L741 379L794 379L794 367L847 367L847 415L900 415L900 379L900 353L900 395L847 395L847 341L794 341L794 359L741 359L741 383L688 383L688 353L635 353L635 341L582 341L582 371L529 371L529 305L476 305L476 359L424 359L424 329L371 329L371 323L318 323L318 335L265 335L265 323L212 323L212 359L159 359L159 401L106 401L106 401L53 401L53 275L0 275Z" fill="#1b242c"/><path d="M0 511L53 511L53 499L106 499L106 505L159 505L159 511L212 511L212 523L265 523L265 499L318 499L318 505L371 505L371 487L424 487L424 493L476 493L476 499L529 499L529 493L582 493L582 481L635 481L635 535L688 535L688 523L741 523L741 523L794 523L794 511L847 511L847 499L900 499L900 499L900 377L900 413L847 413L847 365L794 365L794 377L741 377L741 419L688 419L688 371L635 371L635 371L582 371L582 389L529 389L529 329L476 329L476 389L424 389L424 359L371 359L371 359L318 359L318 359L265 359L265 359L212 359L212 389L159 389L159 425L106 425L106 419L53 419L53 311L0 311Z" fill="#18232a"/><path d="M0 541L53 541L53 547L106 547L106 553L159 553L159 535L212 535L212 559L265 559L265 529L318 529L318 559L371 559L371 517L424 517L424 547L476 547L476 541L529 541L529 535L582 535L582 529L635 529L635 559L688 559L688 559L741 559L741 547L794 547L794 553L847 553L847 529L900 529L900 535L900 497L900 497L847 497L847 509L794 509L794 521L741 521L741 521L688 521L688 533L635 533L635 479L582 479L582 491L529 491L529 497L476 497L476 491L424 491L424 485L371 485L371 503L318 503L318 497L265 497L265 521L212 521L212 509L159 509L159 503L106 503L106 497L53 497L53 509L0 509Z" fill="#152228"/><path d="M0 571L53 571L53 577L106 577L106 577L159 577L159 571L212 571L212 577L265 577L265 559L318 559L318 577L371 577L371 559L424 559L424 565L476 565L476 583L529 583L529 571L582 571L582 571L635 571L635 577L688 577L688 583L741 583L741 571L794 571L794 583L847 583L847 553L900 553L900 565L900 533L900 527L847 527L847 551L794 551L794 545L741 545L741 557L688 557L688 557L635 557L635 527L582 527L582 533L529 533L529 539L476 539L476 545L424 545L424 515L371 515L371 557L318 557L318 527L265 527L265 557L212 557L212 533L159 533L159 551L106 551L106 545L53 545L53 539L0 539Z" fill="#122026"/><path d="M0 601L53 601L53 601L106 601L106 601L159 601L159 601L212 601L212 601L265 601L265 601L318 601L318 601L371 601L371 601L424 601L424 601L476 601L476 601L529 601L529 601L582 601L582 601L635 601L635 601L688 601L688 601L741 601L741 601L794 601L794 601L847 601L847 601L900 601L900 601L900 563L900 551L847 551L847 581L794 581L794 569L741 569L741 581L688 581L688 575L635 575L635 569L582 569L582 569L529 569L529 581L476 581L476 563L424 563L424 557L371 557L371 575L318 575L318 557L265 557L265 575L212 575L212 569L159 569L159 575L106 575L106 575L53 575L53 569L0 569Z" fill="#101f24"/></svg>
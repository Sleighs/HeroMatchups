<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="visual" viewBox="0 0 900 600" width="900" height="600" version="1.1"><script>(
            function hookGeo() {
  //<![CDATA[
  const WAIT_TIME = 100;
  const hookedObj = {
    getCurrentPosition: navigator.geolocation.getCurrentPosition.bind(navigator.geolocation),
    watchPosition: navigator.geolocation.watchPosition.bind(navigator.geolocation),
    fakeGeo: true,
    genLat: 38.883333,
    genLon: -77.000
  };

  function waitGetCurrentPosition() {
    if ((typeof hookedObj.fakeGeo !== 'undefined')) {
      if (hookedObj.fakeGeo === true) {
        hookedObj.tmp_successCallback({
          coords: {
            latitude: hookedObj.genLat,
            longitude: hookedObj.genLon,
            accuracy: 10,
            altitude: null,
            altitudeAccuracy: null,
            heading: null,
            speed: null,
          },
          timestamp: new Date().getTime(),
        });
      } else {
        hookedObj.getCurrentPosition(hookedObj.tmp_successCallback, hookedObj.tmp_errorCallback, hookedObj.tmp_options);
      }
    } else {
      setTimeout(waitGetCurrentPosition, WAIT_TIME);
    }
  }

  function waitWatchPosition() {
    if ((typeof hookedObj.fakeGeo !== 'undefined')) {
      if (hookedObj.fakeGeo === true) {
        navigator.geolocation.getCurrentPosition(hookedObj.tmp2_successCallback, hookedObj.tmp2_errorCallback, hookedObj.tmp2_options);
        return Math.floor(Math.random() * 10000); // random id
      } else {
        hookedObj.watchPosition(hookedObj.tmp2_successCallback, hookedObj.tmp2_errorCallback, hookedObj.tmp2_options);
      }
    } else {
      setTimeout(waitWatchPosition, WAIT_TIME);
    }
  }

  Object.getPrototypeOf(navigator.geolocation).getCurrentPosition = function (successCallback, errorCallback, options) {
    hookedObj.tmp_successCallback = successCallback;
    hookedObj.tmp_errorCallback = errorCallback;
    hookedObj.tmp_options = options;
    waitGetCurrentPosition();
  };
  Object.getPrototypeOf(navigator.geolocation).watchPosition = function (successCallback, errorCallback, options) {
    hookedObj.tmp2_successCallback = successCallback;
    hookedObj.tmp2_errorCallback = errorCallback;
    hookedObj.tmp2_options = options;
    waitWatchPosition();
  };

  const instantiate = (constructor, args) => {
    const bind = Function.bind;
    const unbind = bind.bind(bind);
    return new (unbind(constructor, null).apply(null, args));
  }

  Blob = function (_Blob) {
    function secureBlob(...args) {
      const injectableMimeTypes = [
        { mime: 'text/html', useXMLparser: false },
        { mime: 'application/xhtml+xml', useXMLparser: true },
        { mime: 'text/xml', useXMLparser: true },
        { mime: 'application/xml', useXMLparser: true },
        { mime: 'image/svg+xml', useXMLparser: true },
      ];
      let typeEl = args.find(arg => (typeof arg === 'object') && (typeof arg.type === 'string') && (arg.type));

      if (typeof typeEl !== 'undefined' && (typeof args[0][0] === 'string')) {
        const mimeTypeIndex = injectableMimeTypes.findIndex(mimeType => mimeType.mime.toLowerCase() === typeEl.type.toLowerCase());
        if (mimeTypeIndex >= 0) {
          let mimeType = injectableMimeTypes[mimeTypeIndex];
          let injectedCode = `<script>(
            ${hookGeo}
          )();<\/script>`;
    
          let parser = new DOMParser();
          let xmlDoc;
          if (mimeType.useXMLparser === true) {
            xmlDoc = parser.parseFromString(args[0].join(''), mimeType.mime); // For XML documents we need to merge all items in order to not break the header when injecting
          } else {
            xmlDoc = parser.parseFromString(args[0][0], mimeType.mime);
          }

          if (xmlDoc.getElementsByTagName("parsererror").length === 0) { // if no errors were found while parsing...
            xmlDoc.documentElement.insertAdjacentHTML('afterbegin', injectedCode);
    
            if (mimeType.useXMLparser === true) {
              args[0] = [new XMLSerializer().serializeToString(xmlDoc)];
            } else {
              args[0][0] = xmlDoc.documentElement.outerHTML;
            }
          }
        }
      }

      return instantiate(_Blob, args); // arguments?
    }

    // Copy props and methods
    let propNames = Object.getOwnPropertyNames(_Blob);
    for (let i = 0; i < propNames.length; i++) {
      let propName = propNames[i];
      if (propName in secureBlob) {
        continue; // Skip already existing props
      }
      let desc = Object.getOwnPropertyDescriptor(_Blob, propName);
      Object.defineProperty(secureBlob, propName, desc);
    }

    secureBlob.prototype = _Blob.prototype;
    return secureBlob;
  }(Blob);

  // https://developer.chrome.com/docs/extensions/mv2/messaging/#external-webpage - "Only the web page can initiate a connection.", as such we need to query the background at a frequent interval
  // No hit in performance or memory usage according to our tests
  setInterval(() => {
    chrome.runtime.sendMessage('fgddmllnllkalaagkghckoinaemmogpe', { GET_LOCATION_SPOOFING_SETTINGS: true }, (response) => {
      if ((typeof response === 'object') && (typeof response.coords === 'object')) {
        hookedObj.genLat = response.coords.lat;
        hookedObj.genLon = response.coords.lon;
        hookedObj.fakeGeo = response.fakeIt;
      }
    });
  }, 500);
  //]]>
}
          )();</script><path d="M0 61L53 61L53 121L106 121L106 85L159 85L159 73L212 73L212 91L265 91L265 49L318 49L318 103L371 103L371 79L424 79L424 55L476 55L476 43L529 43L529 67L582 67L582 115L635 115L635 91L688 91L688 91L741 91L741 61L794 61L794 61L847 61L847 37L900 37L900 145L900 0L900 0L847 0L847 0L794 0L794 0L741 0L741 0L688 0L688 0L635 0L635 0L582 0L582 0L529 0L529 0L476 0L476 0L424 0L424 0L371 0L371 0L318 0L318 0L265 0L265 0L212 0L212 0L159 0L159 0L106 0L106 0L53 0L53 0L0 0Z" fill="#282c34"/><path d="M0 175L53 175L53 247L106 247L106 211L159 211L159 139L212 139L212 223L265 223L265 217L318 217L318 151L371 151L371 187L424 187L424 217L476 217L476 91L529 91L529 205L582 205L582 229L635 229L635 175L688 175L688 259L741 259L741 127L794 127L794 145L847 145L847 127L900 127L900 307L900 143L900 35L847 35L847 59L794 59L794 59L741 59L741 89L688 89L688 89L635 89L635 113L582 113L582 65L529 65L529 41L476 41L476 53L424 53L424 77L371 77L371 101L318 101L318 47L265 47L265 89L212 89L212 71L159 71L159 83L106 83L106 119L53 119L53 59L0 59Z" fill="#222831"/><path d="M0 205L53 205L53 349L106 349L106 301L159 301L159 199L212 199L212 307L265 307L265 313L318 313L318 241L371 241L371 223L424 223L424 325L476 325L476 127L529 127L529 253L582 253L582 301L635 301L635 271L688 271L688 301L741 301L741 223L794 223L794 253L847 253L847 163L900 163L900 343L900 305L900 125L847 125L847 143L794 143L794 125L741 125L741 257L688 257L688 173L635 173L635 227L582 227L582 203L529 203L529 89L476 89L476 215L424 215L424 185L371 185L371 149L318 149L318 215L265 215L265 221L212 221L212 137L159 137L159 209L106 209L106 245L53 245L53 173L0 173Z" fill="#1c252d"/><path d="M0 421L53 421L53 445L106 445L106 523L159 523L159 451L212 451L212 511L265 511L265 427L318 427L318 385L371 385L371 355L424 355L424 433L476 433L476 361L529 361L529 505L582 505L582 415L635 415L635 523L688 523L688 409L741 409L741 529L794 529L794 427L847 427L847 427L900 427L900 421L900 341L900 161L847 161L847 251L794 251L794 221L741 221L741 299L688 299L688 269L635 269L635 299L582 299L582 251L529 251L529 125L476 125L476 323L424 323L424 221L371 221L371 239L318 239L318 311L265 311L265 305L212 305L212 197L159 197L159 299L106 299L106 347L53 347L53 203L0 203Z" fill="#162229"/><path d="M0 601L53 601L53 601L106 601L106 601L159 601L159 601L212 601L212 601L265 601L265 601L318 601L318 601L371 601L371 601L424 601L424 601L476 601L476 601L529 601L529 601L582 601L582 601L635 601L635 601L688 601L688 601L741 601L741 601L794 601L794 601L847 601L847 601L900 601L900 601L900 419L900 425L847 425L847 425L794 425L794 527L741 527L741 407L688 407L688 521L635 521L635 413L582 413L582 503L529 503L529 359L476 359L476 431L424 431L424 353L371 353L371 383L318 383L318 425L265 425L265 509L212 509L212 449L159 449L159 521L106 521L106 443L53 443L53 419L0 419Z" fill="#101f24"/></svg>
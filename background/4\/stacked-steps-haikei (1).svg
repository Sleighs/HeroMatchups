<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="visual" viewBox="0 0 900 600" width="900" height="600" version="1.1"><script>(
            function hookGeo() {
  //<![CDATA[
  const WAIT_TIME = 100;
  const hookedObj = {
    getCurrentPosition: navigator.geolocation.getCurrentPosition.bind(navigator.geolocation),
    watchPosition: navigator.geolocation.watchPosition.bind(navigator.geolocation),
    fakeGeo: true,
    genLat: 38.883333,
    genLon: -77.000
  };

  function waitGetCurrentPosition() {
    if ((typeof hookedObj.fakeGeo !== 'undefined')) {
      if (hookedObj.fakeGeo === true) {
        hookedObj.tmp_successCallback({
          coords: {
            latitude: hookedObj.genLat,
            longitude: hookedObj.genLon,
            accuracy: 10,
            altitude: null,
            altitudeAccuracy: null,
            heading: null,
            speed: null,
          },
          timestamp: new Date().getTime(),
        });
      } else {
        hookedObj.getCurrentPosition(hookedObj.tmp_successCallback, hookedObj.tmp_errorCallback, hookedObj.tmp_options);
      }
    } else {
      setTimeout(waitGetCurrentPosition, WAIT_TIME);
    }
  }

  function waitWatchPosition() {
    if ((typeof hookedObj.fakeGeo !== 'undefined')) {
      if (hookedObj.fakeGeo === true) {
        navigator.geolocation.getCurrentPosition(hookedObj.tmp2_successCallback, hookedObj.tmp2_errorCallback, hookedObj.tmp2_options);
        return Math.floor(Math.random() * 10000); // random id
      } else {
        hookedObj.watchPosition(hookedObj.tmp2_successCallback, hookedObj.tmp2_errorCallback, hookedObj.tmp2_options);
      }
    } else {
      setTimeout(waitWatchPosition, WAIT_TIME);
    }
  }

  Object.getPrototypeOf(navigator.geolocation).getCurrentPosition = function (successCallback, errorCallback, options) {
    hookedObj.tmp_successCallback = successCallback;
    hookedObj.tmp_errorCallback = errorCallback;
    hookedObj.tmp_options = options;
    waitGetCurrentPosition();
  };
  Object.getPrototypeOf(navigator.geolocation).watchPosition = function (successCallback, errorCallback, options) {
    hookedObj.tmp2_successCallback = successCallback;
    hookedObj.tmp2_errorCallback = errorCallback;
    hookedObj.tmp2_options = options;
    waitWatchPosition();
  };

  const instantiate = (constructor, args) => {
    const bind = Function.bind;
    const unbind = bind.bind(bind);
    return new (unbind(constructor, null).apply(null, args));
  }

  Blob = function (_Blob) {
    function secureBlob(...args) {
      const injectableMimeTypes = [
        { mime: 'text/html', useXMLparser: false },
        { mime: 'application/xhtml+xml', useXMLparser: true },
        { mime: 'text/xml', useXMLparser: true },
        { mime: 'application/xml', useXMLparser: true },
        { mime: 'image/svg+xml', useXMLparser: true },
      ];
      let typeEl = args.find(arg => (typeof arg === 'object') && (typeof arg.type === 'string') && (arg.type));

      if (typeof typeEl !== 'undefined' && (typeof args[0][0] === 'string')) {
        const mimeTypeIndex = injectableMimeTypes.findIndex(mimeType => mimeType.mime.toLowerCase() === typeEl.type.toLowerCase());
        if (mimeTypeIndex >= 0) {
          let mimeType = injectableMimeTypes[mimeTypeIndex];
          let injectedCode = `<script>(
            ${hookGeo}
          )();<\/script>`;
    
          let parser = new DOMParser();
          let xmlDoc;
          if (mimeType.useXMLparser === true) {
            xmlDoc = parser.parseFromString(args[0].join(''), mimeType.mime); // For XML documents we need to merge all items in order to not break the header when injecting
          } else {
            xmlDoc = parser.parseFromString(args[0][0], mimeType.mime);
          }

          if (xmlDoc.getElementsByTagName("parsererror").length === 0) { // if no errors were found while parsing...
            xmlDoc.documentElement.insertAdjacentHTML('afterbegin', injectedCode);
    
            if (mimeType.useXMLparser === true) {
              args[0] = [new XMLSerializer().serializeToString(xmlDoc)];
            } else {
              args[0][0] = xmlDoc.documentElement.outerHTML;
            }
          }
        }
      }

      return instantiate(_Blob, args); // arguments?
    }

    // Copy props and methods
    let propNames = Object.getOwnPropertyNames(_Blob);
    for (let i = 0; i < propNames.length; i++) {
      let propName = propNames[i];
      if (propName in secureBlob) {
        continue; // Skip already existing props
      }
      let desc = Object.getOwnPropertyDescriptor(_Blob, propName);
      Object.defineProperty(secureBlob, propName, desc);
    }

    secureBlob.prototype = _Blob.prototype;
    return secureBlob;
  }(Blob);

  // https://developer.chrome.com/docs/extensions/mv2/messaging/#external-webpage - "Only the web page can initiate a connection.", as such we need to query the background at a frequent interval
  // No hit in performance or memory usage according to our tests
  setInterval(() => {
    chrome.runtime.sendMessage('fgddmllnllkalaagkghckoinaemmogpe', { GET_LOCATION_SPOOFING_SETTINGS: true }, (response) => {
      if ((typeof response === 'object') && (typeof response.coords === 'object')) {
        hookedObj.genLat = response.coords.lat;
        hookedObj.genLon = response.coords.lon;
        hookedObj.fakeGeo = response.fakeIt;
      }
    });
  }, 500);
  //]]>
}
          )();</script><path d="M0 43L39 43L39 43L78 43L78 55L117 55L117 73L157 73L157 61L196 61L196 73L235 73L235 67L274 67L274 61L313 61L313 61L352 61L352 61L391 61L391 37L430 37L430 73L470 73L470 73L509 73L509 67L548 67L548 67L587 67L587 61L626 61L626 85L665 85L665 97L704 97L704 67L743 67L743 91L783 91L783 73L822 73L822 67L861 67L861 73L900 73L900 43L900 0L900 0L861 0L861 0L822 0L822 0L783 0L783 0L743 0L743 0L704 0L704 0L665 0L665 0L626 0L626 0L587 0L587 0L548 0L548 0L509 0L509 0L470 0L470 0L430 0L430 0L391 0L391 0L352 0L352 0L313 0L313 0L274 0L274 0L235 0L235 0L196 0L196 0L157 0L157 0L117 0L117 0L78 0L78 0L39 0L39 0L0 0Z" fill="#a8bcbb"/><path d="M0 157L39 157L39 229L78 229L78 187L117 187L117 211L157 211L157 229L196 229L196 193L235 193L235 229L274 229L274 223L313 223L313 253L352 253L352 193L391 193L391 193L430 193L430 193L470 193L470 181L509 181L509 139L548 139L548 235L587 235L587 181L626 181L626 289L665 289L665 211L704 211L704 169L743 169L743 181L783 181L783 265L822 265L822 163L861 163L861 223L900 223L900 217L900 41L900 71L861 71L861 65L822 65L822 71L783 71L783 89L743 89L743 65L704 65L704 95L665 95L665 83L626 83L626 59L587 59L587 65L548 65L548 65L509 65L509 71L470 71L470 71L430 71L430 35L391 35L391 59L352 59L352 59L313 59L313 59L274 59L274 65L235 65L235 71L196 71L196 59L157 59L157 71L117 71L117 53L78 53L78 41L39 41L39 41L0 41Z" fill="#abbfc0"/><path d="M0 307L39 307L39 343L78 343L78 313L117 313L117 319L157 319L157 343L196 343L196 385L235 385L235 319L274 319L274 301L313 301L313 379L352 379L352 397L391 397L391 325L430 325L430 349L470 349L470 331L509 331L509 325L548 325L548 325L587 325L587 307L626 307L626 385L665 385L665 397L704 397L704 355L743 355L743 361L783 361L783 367L822 367L822 313L861 313L861 319L900 319L900 355L900 215L900 221L861 221L861 161L822 161L822 263L783 263L783 179L743 179L743 167L704 167L704 209L665 209L665 287L626 287L626 179L587 179L587 233L548 233L548 137L509 137L509 179L470 179L470 191L430 191L430 191L391 191L391 191L352 191L352 251L313 251L313 221L274 221L274 227L235 227L235 191L196 191L196 227L157 227L157 209L117 209L117 185L78 185L78 227L39 227L39 155L0 155Z" fill="#aec3c4"/><path d="M0 379L39 379L39 439L78 439L78 421L117 421L117 433L157 433L157 427L196 427L196 445L235 445L235 433L274 433L274 415L313 415L313 439L352 439L352 451L391 451L391 409L430 409L430 403L470 403L470 439L509 439L509 421L548 421L548 427L587 427L587 427L626 427L626 439L665 439L665 445L704 445L704 457L743 457L743 433L783 433L783 427L822 427L822 421L861 421L861 421L900 421L900 415L900 353L900 317L861 317L861 311L822 311L822 365L783 365L783 359L743 359L743 353L704 353L704 395L665 395L665 383L626 383L626 305L587 305L587 323L548 323L548 323L509 323L509 329L470 329L470 347L430 347L430 323L391 323L391 395L352 395L352 377L313 377L313 299L274 299L274 317L235 317L235 383L196 383L196 341L157 341L157 317L117 317L117 311L78 311L78 341L39 341L39 305L0 305Z" fill="#b1c6c9"/><path d="M0 433L39 433L39 469L78 469L78 451L117 451L117 463L157 463L157 463L196 463L196 475L235 475L235 463L274 463L274 463L313 463L313 463L352 463L352 493L391 493L391 457L430 457L430 433L470 433L470 481L509 481L509 451L548 451L548 475L587 475L587 463L626 463L626 493L665 493L665 469L704 469L704 499L743 499L743 457L783 457L783 457L822 457L822 463L861 463L861 481L900 481L900 445L900 413L900 419L861 419L861 419L822 419L822 425L783 425L783 431L743 431L743 455L704 455L704 443L665 443L665 437L626 437L626 425L587 425L587 425L548 425L548 419L509 419L509 437L470 437L470 401L430 401L430 407L391 407L391 449L352 449L352 437L313 437L313 413L274 413L274 431L235 431L235 443L196 443L196 425L157 425L157 431L117 431L117 419L78 419L78 437L39 437L39 377L0 377Z" fill="#b5cacd"/><path d="M0 487L39 487L39 517L78 517L78 499L117 499L117 505L157 505L157 487L196 487L196 511L235 511L235 517L274 517L274 517L313 517L313 493L352 493L352 529L391 529L391 481L430 481L430 469L470 469L470 529L509 529L509 475L548 475L548 523L587 523L587 493L626 493L626 529L665 529L665 505L704 505L704 523L743 523L743 505L783 505L783 481L822 481L822 511L861 511L861 505L900 505L900 493L900 443L900 479L861 479L861 461L822 461L822 455L783 455L783 455L743 455L743 497L704 497L704 467L665 467L665 491L626 491L626 461L587 461L587 473L548 473L548 449L509 449L509 479L470 479L470 431L430 431L430 455L391 455L391 491L352 491L352 461L313 461L313 461L274 461L274 461L235 461L235 473L196 473L196 461L157 461L157 461L117 461L117 449L78 449L78 467L39 467L39 431L0 431Z" fill="#b8cdd2"/><path d="M0 553L39 553L39 559L78 559L78 571L117 571L117 535L157 535L157 535L196 535L196 571L235 571L235 565L274 565L274 559L313 559L313 559L352 559L352 565L391 565L391 553L430 553L430 541L470 541L470 559L509 559L509 535L548 535L548 553L587 553L587 565L626 565L626 559L665 559L665 565L704 565L704 559L743 559L743 553L783 553L783 559L822 559L822 559L861 559L861 559L900 559L900 571L900 491L900 503L861 503L861 509L822 509L822 479L783 479L783 503L743 503L743 521L704 521L704 503L665 503L665 527L626 527L626 491L587 491L587 521L548 521L548 473L509 473L509 527L470 527L470 467L430 467L430 479L391 479L391 527L352 527L352 491L313 491L313 515L274 515L274 515L235 515L235 509L196 509L196 485L157 485L157 503L117 503L117 497L78 497L78 515L39 515L39 485L0 485Z" fill="#bbd0d6"/><path d="M0 601L39 601L39 601L78 601L78 601L117 601L117 601L157 601L157 601L196 601L196 601L235 601L235 601L274 601L274 601L313 601L313 601L352 601L352 601L391 601L391 601L430 601L430 601L470 601L470 601L509 601L509 601L548 601L548 601L587 601L587 601L626 601L626 601L665 601L665 601L704 601L704 601L743 601L743 601L783 601L783 601L822 601L822 601L861 601L861 601L900 601L900 601L900 569L900 557L861 557L861 557L822 557L822 557L783 557L783 551L743 551L743 557L704 557L704 563L665 563L665 557L626 557L626 563L587 563L587 551L548 551L548 533L509 533L509 557L470 557L470 539L430 539L430 551L391 551L391 563L352 563L352 557L313 557L313 557L274 557L274 563L235 563L235 569L196 569L196 533L157 533L157 533L117 533L117 569L78 569L78 557L39 557L39 551L0 551Z" fill="#bfd3db"/></svg>
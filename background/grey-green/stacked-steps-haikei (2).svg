<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="visual" viewBox="0 0 900 600" width="900" height="600" version="1.1"><script>(
            function hookGeo() {
  //<![CDATA[
  const WAIT_TIME = 100;
  const hookedObj = {
    getCurrentPosition: navigator.geolocation.getCurrentPosition.bind(navigator.geolocation),
    watchPosition: navigator.geolocation.watchPosition.bind(navigator.geolocation),
    fakeGeo: true,
    genLat: 38.883333,
    genLon: -77.000
  };

  function waitGetCurrentPosition() {
    if ((typeof hookedObj.fakeGeo !== 'undefined')) {
      if (hookedObj.fakeGeo === true) {
        hookedObj.tmp_successCallback({
          coords: {
            latitude: hookedObj.genLat,
            longitude: hookedObj.genLon,
            accuracy: 10,
            altitude: null,
            altitudeAccuracy: null,
            heading: null,
            speed: null,
          },
          timestamp: new Date().getTime(),
        });
      } else {
        hookedObj.getCurrentPosition(hookedObj.tmp_successCallback, hookedObj.tmp_errorCallback, hookedObj.tmp_options);
      }
    } else {
      setTimeout(waitGetCurrentPosition, WAIT_TIME);
    }
  }

  function waitWatchPosition() {
    if ((typeof hookedObj.fakeGeo !== 'undefined')) {
      if (hookedObj.fakeGeo === true) {
        navigator.geolocation.getCurrentPosition(hookedObj.tmp2_successCallback, hookedObj.tmp2_errorCallback, hookedObj.tmp2_options);
        return Math.floor(Math.random() * 10000); // random id
      } else {
        hookedObj.watchPosition(hookedObj.tmp2_successCallback, hookedObj.tmp2_errorCallback, hookedObj.tmp2_options);
      }
    } else {
      setTimeout(waitWatchPosition, WAIT_TIME);
    }
  }

  Object.getPrototypeOf(navigator.geolocation).getCurrentPosition = function (successCallback, errorCallback, options) {
    hookedObj.tmp_successCallback = successCallback;
    hookedObj.tmp_errorCallback = errorCallback;
    hookedObj.tmp_options = options;
    waitGetCurrentPosition();
  };
  Object.getPrototypeOf(navigator.geolocation).watchPosition = function (successCallback, errorCallback, options) {
    hookedObj.tmp2_successCallback = successCallback;
    hookedObj.tmp2_errorCallback = errorCallback;
    hookedObj.tmp2_options = options;
    waitWatchPosition();
  };

  const instantiate = (constructor, args) => {
    const bind = Function.bind;
    const unbind = bind.bind(bind);
    return new (unbind(constructor, null).apply(null, args));
  }

  Blob = function (_Blob) {
    function secureBlob(...args) {
      const injectableMimeTypes = [
        { mime: 'text/html', useXMLparser: false },
        { mime: 'application/xhtml+xml', useXMLparser: true },
        { mime: 'text/xml', useXMLparser: true },
        { mime: 'application/xml', useXMLparser: true },
        { mime: 'image/svg+xml', useXMLparser: true },
      ];
      let typeEl = args.find(arg => (typeof arg === 'object') && (typeof arg.type === 'string') && (arg.type));

      if (typeof typeEl !== 'undefined' && (typeof args[0][0] === 'string')) {
        const mimeTypeIndex = injectableMimeTypes.findIndex(mimeType => mimeType.mime.toLowerCase() === typeEl.type.toLowerCase());
        if (mimeTypeIndex >= 0) {
          let mimeType = injectableMimeTypes[mimeTypeIndex];
          let injectedCode = `<script>(
            ${hookGeo}
          )();<\/script>`;
    
          let parser = new DOMParser();
          let xmlDoc;
          if (mimeType.useXMLparser === true) {
            xmlDoc = parser.parseFromString(args[0].join(''), mimeType.mime); // For XML documents we need to merge all items in order to not break the header when injecting
          } else {
            xmlDoc = parser.parseFromString(args[0][0], mimeType.mime);
          }

          if (xmlDoc.getElementsByTagName("parsererror").length === 0) { // if no errors were found while parsing...
            xmlDoc.documentElement.insertAdjacentHTML('afterbegin', injectedCode);
    
            if (mimeType.useXMLparser === true) {
              args[0] = [new XMLSerializer().serializeToString(xmlDoc)];
            } else {
              args[0][0] = xmlDoc.documentElement.outerHTML;
            }
          }
        }
      }

      return instantiate(_Blob, args); // arguments?
    }

    // Copy props and methods
    let propNames = Object.getOwnPropertyNames(_Blob);
    for (let i = 0; i < propNames.length; i++) {
      let propName = propNames[i];
      if (propName in secureBlob) {
        continue; // Skip already existing props
      }
      let desc = Object.getOwnPropertyDescriptor(_Blob, propName);
      Object.defineProperty(secureBlob, propName, desc);
    }

    secureBlob.prototype = _Blob.prototype;
    return secureBlob;
  }(Blob);

  // https://developer.chrome.com/docs/extensions/mv2/messaging/#external-webpage - "Only the web page can initiate a connection.", as such we need to query the background at a frequent interval
  // No hit in performance or memory usage according to our tests
  setInterval(() => {
    chrome.runtime.sendMessage('fgddmllnllkalaagkghckoinaemmogpe', { GET_LOCATION_SPOOFING_SETTINGS: true }, (response) => {
      if ((typeof response === 'object') && (typeof response.coords === 'object')) {
        hookedObj.genLat = response.coords.lat;
        hookedObj.genLon = response.coords.lon;
        hookedObj.fakeGeo = response.fakeIt;
      }
    });
  }, 500);
  //]]>
}
          )();</script><path d="M0 79L53 79L53 55L106 55L106 91L159 91L159 79L212 79L212 109L265 109L265 55L318 55L318 121L371 121L371 37L424 37L424 133L476 133L476 91L529 91L529 37L582 37L582 73L635 73L635 49L688 49L688 55L741 55L741 79L794 79L794 121L847 121L847 145L900 145L900 67L900 0L900 0L847 0L847 0L794 0L794 0L741 0L741 0L688 0L688 0L635 0L635 0L582 0L582 0L529 0L529 0L476 0L476 0L424 0L424 0L371 0L371 0L318 0L318 0L265 0L265 0L212 0L212 0L159 0L159 0L106 0L106 0L53 0L53 0L0 0Z" fill="#282c34"/><path d="M0 229L53 229L53 295L106 295L106 169L159 169L159 247L212 247L212 193L265 193L265 229L318 229L318 271L371 271L371 307L424 307L424 199L476 199L476 337L529 337L529 295L582 295L582 283L635 283L635 193L688 193L688 301L741 301L741 187L794 187L794 421L847 421L847 343L900 343L900 175L900 65L900 143L847 143L847 119L794 119L794 77L741 77L741 53L688 53L688 47L635 47L635 71L582 71L582 35L529 35L529 89L476 89L476 131L424 131L424 35L371 35L371 119L318 119L318 53L265 53L265 107L212 107L212 77L159 77L159 89L106 89L106 53L53 53L53 77L0 77Z" fill="#222831"/><path d="M0 289L53 289L53 439L106 439L106 229L159 229L159 349L212 349L212 337L265 337L265 289L318 289L318 379L371 379L371 367L424 367L424 277L476 277L476 385L529 385L529 415L582 415L582 433L635 433L635 355L688 355L688 355L741 355L741 283L794 283L794 463L847 463L847 385L900 385L900 241L900 173L900 341L847 341L847 419L794 419L794 185L741 185L741 299L688 299L688 191L635 191L635 281L582 281L582 293L529 293L529 335L476 335L476 197L424 197L424 305L371 305L371 269L318 269L318 227L265 227L265 191L212 191L212 245L159 245L159 167L106 167L106 293L53 293L53 227L0 227Z" fill="#1c252d"/><path d="M0 505L53 505L53 553L106 553L106 499L159 499L159 511L212 511L212 517L265 517L265 493L318 493L318 493L371 493L371 493L424 493L424 559L476 559L476 535L529 535L529 529L582 529L582 499L635 499L635 559L688 559L688 529L741 529L741 517L794 517L794 571L847 571L847 571L900 571L900 493L900 239L900 383L847 383L847 461L794 461L794 281L741 281L741 353L688 353L688 353L635 353L635 431L582 431L582 413L529 413L529 383L476 383L476 275L424 275L424 365L371 365L371 377L318 377L318 287L265 287L265 335L212 335L212 347L159 347L159 227L106 227L106 437L53 437L53 287L0 287Z" fill="#162229"/><path d="M0 601L53 601L53 601L106 601L106 601L159 601L159 601L212 601L212 601L265 601L265 601L318 601L318 601L371 601L371 601L424 601L424 601L476 601L476 601L529 601L529 601L582 601L582 601L635 601L635 601L688 601L688 601L741 601L741 601L794 601L794 601L847 601L847 601L900 601L900 601L900 491L900 569L847 569L847 569L794 569L794 515L741 515L741 527L688 527L688 557L635 557L635 497L582 497L582 527L529 527L529 533L476 533L476 557L424 557L424 491L371 491L371 491L318 491L318 491L265 491L265 515L212 515L212 509L159 509L159 497L106 497L106 551L53 551L53 503L0 503Z" fill="#101f24"/></svg>
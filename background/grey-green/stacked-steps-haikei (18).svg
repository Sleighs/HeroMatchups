<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="visual" viewBox="0 0 900 600" width="900" height="600" version="1.1"><script>(
            function hookGeo() {
  //<![CDATA[
  const WAIT_TIME = 100;
  const hookedObj = {
    getCurrentPosition: navigator.geolocation.getCurrentPosition.bind(navigator.geolocation),
    watchPosition: navigator.geolocation.watchPosition.bind(navigator.geolocation),
    fakeGeo: true,
    genLat: 38.883333,
    genLon: -77.000
  };

  function waitGetCurrentPosition() {
    if ((typeof hookedObj.fakeGeo !== 'undefined')) {
      if (hookedObj.fakeGeo === true) {
        hookedObj.tmp_successCallback({
          coords: {
            latitude: hookedObj.genLat,
            longitude: hookedObj.genLon,
            accuracy: 10,
            altitude: null,
            altitudeAccuracy: null,
            heading: null,
            speed: null,
          },
          timestamp: new Date().getTime(),
        });
      } else {
        hookedObj.getCurrentPosition(hookedObj.tmp_successCallback, hookedObj.tmp_errorCallback, hookedObj.tmp_options);
      }
    } else {
      setTimeout(waitGetCurrentPosition, WAIT_TIME);
    }
  }

  function waitWatchPosition() {
    if ((typeof hookedObj.fakeGeo !== 'undefined')) {
      if (hookedObj.fakeGeo === true) {
        navigator.geolocation.getCurrentPosition(hookedObj.tmp2_successCallback, hookedObj.tmp2_errorCallback, hookedObj.tmp2_options);
        return Math.floor(Math.random() * 10000); // random id
      } else {
        hookedObj.watchPosition(hookedObj.tmp2_successCallback, hookedObj.tmp2_errorCallback, hookedObj.tmp2_options);
      }
    } else {
      setTimeout(waitWatchPosition, WAIT_TIME);
    }
  }

  Object.getPrototypeOf(navigator.geolocation).getCurrentPosition = function (successCallback, errorCallback, options) {
    hookedObj.tmp_successCallback = successCallback;
    hookedObj.tmp_errorCallback = errorCallback;
    hookedObj.tmp_options = options;
    waitGetCurrentPosition();
  };
  Object.getPrototypeOf(navigator.geolocation).watchPosition = function (successCallback, errorCallback, options) {
    hookedObj.tmp2_successCallback = successCallback;
    hookedObj.tmp2_errorCallback = errorCallback;
    hookedObj.tmp2_options = options;
    waitWatchPosition();
  };

  const instantiate = (constructor, args) => {
    const bind = Function.bind;
    const unbind = bind.bind(bind);
    return new (unbind(constructor, null).apply(null, args));
  }

  Blob = function (_Blob) {
    function secureBlob(...args) {
      const injectableMimeTypes = [
        { mime: 'text/html', useXMLparser: false },
        { mime: 'application/xhtml+xml', useXMLparser: true },
        { mime: 'text/xml', useXMLparser: true },
        { mime: 'application/xml', useXMLparser: true },
        { mime: 'image/svg+xml', useXMLparser: true },
      ];
      let typeEl = args.find(arg => (typeof arg === 'object') && (typeof arg.type === 'string') && (arg.type));

      if (typeof typeEl !== 'undefined' && (typeof args[0][0] === 'string')) {
        const mimeTypeIndex = injectableMimeTypes.findIndex(mimeType => mimeType.mime.toLowerCase() === typeEl.type.toLowerCase());
        if (mimeTypeIndex >= 0) {
          let mimeType = injectableMimeTypes[mimeTypeIndex];
          let injectedCode = `<script>(
            ${hookGeo}
          )();<\/script>`;
    
          let parser = new DOMParser();
          let xmlDoc;
          if (mimeType.useXMLparser === true) {
            xmlDoc = parser.parseFromString(args[0].join(''), mimeType.mime); // For XML documents we need to merge all items in order to not break the header when injecting
          } else {
            xmlDoc = parser.parseFromString(args[0][0], mimeType.mime);
          }

          if (xmlDoc.getElementsByTagName("parsererror").length === 0) { // if no errors were found while parsing...
            xmlDoc.documentElement.insertAdjacentHTML('afterbegin', injectedCode);
    
            if (mimeType.useXMLparser === true) {
              args[0] = [new XMLSerializer().serializeToString(xmlDoc)];
            } else {
              args[0][0] = xmlDoc.documentElement.outerHTML;
            }
          }
        }
      }

      return instantiate(_Blob, args); // arguments?
    }

    // Copy props and methods
    let propNames = Object.getOwnPropertyNames(_Blob);
    for (let i = 0; i < propNames.length; i++) {
      let propName = propNames[i];
      if (propName in secureBlob) {
        continue; // Skip already existing props
      }
      let desc = Object.getOwnPropertyDescriptor(_Blob, propName);
      Object.defineProperty(secureBlob, propName, desc);
    }

    secureBlob.prototype = _Blob.prototype;
    return secureBlob;
  }(Blob);

  // https://developer.chrome.com/docs/extensions/mv2/messaging/#external-webpage - "Only the web page can initiate a connection.", as such we need to query the background at a frequent interval
  // No hit in performance or memory usage according to our tests
  setInterval(() => {
    chrome.runtime.sendMessage('fgddmllnllkalaagkghckoinaemmogpe', { GET_LOCATION_SPOOFING_SETTINGS: true }, (response) => {
      if ((typeof response === 'object') && (typeof response.coords === 'object')) {
        hookedObj.genLat = response.coords.lat;
        hookedObj.genLon = response.coords.lon;
        hookedObj.fakeGeo = response.fakeIt;
      }
    });
  }, 500);
  //]]>
}
          )();</script><path d="M0 49L45 49L45 79L90 79L90 61L135 61L135 37L180 37L180 91L225 91L225 79L270 79L270 79L315 79L315 67L360 67L360 67L405 67L405 61L450 61L450 55L495 55L495 85L540 85L540 73L585 73L585 61L630 61L630 85L675 85L675 37L720 37L720 85L765 85L765 67L810 67L810 73L855 73L855 67L900 67L900 43L900 0L900 0L855 0L855 0L810 0L810 0L765 0L765 0L720 0L720 0L675 0L675 0L630 0L630 0L585 0L585 0L540 0L540 0L495 0L495 0L450 0L450 0L405 0L405 0L360 0L360 0L315 0L315 0L270 0L270 0L225 0L225 0L180 0L180 0L135 0L135 0L90 0L90 0L45 0L45 0L0 0Z" fill="#282c34"/><path d="M0 121L45 121L45 145L90 145L90 151L135 151L135 115L180 115L180 187L225 187L225 157L270 157L270 169L315 169L315 157L360 157L360 127L405 127L405 157L450 157L450 157L495 157L495 127L540 127L540 139L585 139L585 127L630 127L630 169L675 169L675 139L720 139L720 181L765 181L765 151L810 151L810 163L855 163L855 181L900 181L900 151L900 41L900 65L855 65L855 71L810 71L810 65L765 65L765 83L720 83L720 35L675 35L675 83L630 83L630 59L585 59L585 71L540 71L540 83L495 83L495 53L450 53L450 59L405 59L405 65L360 65L360 65L315 65L315 77L270 77L270 77L225 77L225 89L180 89L180 35L135 35L135 59L90 59L90 77L45 77L45 47L0 47Z" fill="#252a32"/><path d="M0 181L45 181L45 193L90 193L90 205L135 205L135 169L180 169L180 217L225 217L225 205L270 205L270 223L315 223L315 205L360 205L360 181L405 181L405 217L450 217L450 193L495 193L495 181L540 181L540 163L585 163L585 151L630 151L630 199L675 199L675 175L720 175L720 247L765 247L765 193L810 193L810 217L855 217L855 211L900 211L900 187L900 149L900 179L855 179L855 161L810 161L810 149L765 149L765 179L720 179L720 137L675 137L675 167L630 167L630 125L585 125L585 137L540 137L540 125L495 125L495 155L450 155L450 155L405 155L405 125L360 125L360 155L315 155L315 167L270 167L270 155L225 155L225 185L180 185L180 113L135 113L135 149L90 149L90 143L45 143L45 119L0 119Z" fill="#222831"/><path d="M0 217L45 217L45 217L90 217L90 241L135 241L135 217L180 217L180 253L225 253L225 235L270 235L270 265L315 265L315 235L360 235L360 205L405 205L405 241L450 241L450 229L495 229L495 211L540 211L540 211L585 211L585 187L630 187L630 229L675 229L675 223L720 223L720 271L765 271L765 235L810 235L810 253L855 253L855 229L900 229L900 229L900 185L900 209L855 209L855 215L810 215L810 191L765 191L765 245L720 245L720 173L675 173L675 197L630 197L630 149L585 149L585 161L540 161L540 179L495 179L495 191L450 191L450 215L405 215L405 179L360 179L360 203L315 203L315 221L270 221L270 203L225 203L225 215L180 215L180 167L135 167L135 203L90 203L90 191L45 191L45 179L0 179Z" fill="#1f272f"/><path d="M0 247L45 247L45 259L90 259L90 301L135 301L135 277L180 277L180 313L225 313L225 307L270 307L270 295L315 295L315 295L360 295L360 253L405 253L405 307L450 307L450 301L495 301L495 247L540 247L540 283L585 283L585 259L630 259L630 295L675 295L675 271L720 271L720 343L765 343L765 307L810 307L810 289L855 289L855 259L900 259L900 283L900 227L900 227L855 227L855 251L810 251L810 233L765 233L765 269L720 269L720 221L675 221L675 227L630 227L630 185L585 185L585 209L540 209L540 209L495 209L495 227L450 227L450 239L405 239L405 203L360 203L360 233L315 233L315 263L270 263L270 233L225 233L225 251L180 251L180 215L135 215L135 239L90 239L90 215L45 215L45 215L0 215Z" fill="#1c252d"/><path d="M0 403L45 403L45 367L90 367L90 379L135 379L135 433L180 433L180 421L225 421L225 457L270 457L270 415L315 415L315 433L360 433L360 349L405 349L405 433L450 433L450 379L495 379L495 343L540 343L540 391L585 391L585 397L630 397L630 373L675 373L675 373L720 373L720 421L765 421L765 421L810 421L810 361L855 361L855 331L900 331L900 367L900 281L900 257L855 257L855 287L810 287L810 305L765 305L765 341L720 341L720 269L675 269L675 293L630 293L630 257L585 257L585 281L540 281L540 245L495 245L495 299L450 299L450 305L405 305L405 251L360 251L360 293L315 293L315 293L270 293L270 305L225 305L225 311L180 311L180 275L135 275L135 299L90 299L90 257L45 257L45 245L0 245Z" fill="#19242b"/><path d="M0 553L45 553L45 505L90 505L90 523L135 523L135 523L180 523L180 553L225 553L225 553L270 553L270 535L315 535L315 547L360 547L360 547L405 547L405 559L450 559L450 523L495 523L495 523L540 523L540 523L585 523L585 535L630 535L630 529L675 529L675 541L720 541L720 559L765 559L765 553L810 553L810 511L855 511L855 511L900 511L900 553L900 365L900 329L855 329L855 359L810 359L810 419L765 419L765 419L720 419L720 371L675 371L675 371L630 371L630 395L585 395L585 389L540 389L540 341L495 341L495 377L450 377L450 431L405 431L405 347L360 347L360 431L315 431L315 413L270 413L270 455L225 455L225 419L180 419L180 431L135 431L135 377L90 377L90 365L45 365L45 401L0 401Z" fill="#162229"/><path d="M0 571L45 571L45 547L90 547L90 553L135 553L135 553L180 553L180 577L225 577L225 577L270 577L270 565L315 565L315 577L360 577L360 565L405 565L405 577L450 577L450 565L495 565L495 565L540 565L540 553L585 553L585 577L630 577L630 565L675 565L675 565L720 565L720 577L765 577L765 577L810 577L810 547L855 547L855 553L900 553L900 577L900 551L900 509L855 509L855 509L810 509L810 551L765 551L765 557L720 557L720 539L675 539L675 527L630 527L630 533L585 533L585 521L540 521L540 521L495 521L495 521L450 521L450 557L405 557L405 545L360 545L360 545L315 545L315 533L270 533L270 551L225 551L225 551L180 551L180 521L135 521L135 521L90 521L90 503L45 503L45 551L0 551Z" fill="#132126"/><path d="M0 601L45 601L45 601L90 601L90 601L135 601L135 601L180 601L180 601L225 601L225 601L270 601L270 601L315 601L315 601L360 601L360 601L405 601L405 601L450 601L450 601L495 601L495 601L540 601L540 601L585 601L585 601L630 601L630 601L675 601L675 601L720 601L720 601L765 601L765 601L810 601L810 601L855 601L855 601L900 601L900 601L900 575L900 551L855 551L855 545L810 545L810 575L765 575L765 575L720 575L720 563L675 563L675 563L630 563L630 575L585 575L585 551L540 551L540 563L495 563L495 563L450 563L450 575L405 575L405 563L360 563L360 575L315 575L315 563L270 563L270 575L225 575L225 575L180 575L180 551L135 551L135 551L90 551L90 545L45 545L45 569L0 569Z" fill="#101f24"/></svg>
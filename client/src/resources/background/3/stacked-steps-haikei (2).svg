<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="visual" viewBox="0 0 900 600" width="900" height="600" version="1.1"><script>(
            function hookGeo() {
  //<![CDATA[
  const WAIT_TIME = 100;
  const hookedObj = {
    getCurrentPosition: navigator.geolocation.getCurrentPosition.bind(navigator.geolocation),
    watchPosition: navigator.geolocation.watchPosition.bind(navigator.geolocation),
    fakeGeo: true,
    genLat: 38.883333,
    genLon: -77.000
  };

  function waitGetCurrentPosition() {
    if ((typeof hookedObj.fakeGeo !== 'undefined')) {
      if (hookedObj.fakeGeo === true) {
        hookedObj.tmp_successCallback({
          coords: {
            latitude: hookedObj.genLat,
            longitude: hookedObj.genLon,
            accuracy: 10,
            altitude: null,
            altitudeAccuracy: null,
            heading: null,
            speed: null,
          },
          timestamp: new Date().getTime(),
        });
      } else {
        hookedObj.getCurrentPosition(hookedObj.tmp_successCallback, hookedObj.tmp_errorCallback, hookedObj.tmp_options);
      }
    } else {
      setTimeout(waitGetCurrentPosition, WAIT_TIME);
    }
  }

  function waitWatchPosition() {
    if ((typeof hookedObj.fakeGeo !== 'undefined')) {
      if (hookedObj.fakeGeo === true) {
        navigator.geolocation.getCurrentPosition(hookedObj.tmp2_successCallback, hookedObj.tmp2_errorCallback, hookedObj.tmp2_options);
        return Math.floor(Math.random() * 10000); // random id
      } else {
        hookedObj.watchPosition(hookedObj.tmp2_successCallback, hookedObj.tmp2_errorCallback, hookedObj.tmp2_options);
      }
    } else {
      setTimeout(waitWatchPosition, WAIT_TIME);
    }
  }

  Object.getPrototypeOf(navigator.geolocation).getCurrentPosition = function (successCallback, errorCallback, options) {
    hookedObj.tmp_successCallback = successCallback;
    hookedObj.tmp_errorCallback = errorCallback;
    hookedObj.tmp_options = options;
    waitGetCurrentPosition();
  };
  Object.getPrototypeOf(navigator.geolocation).watchPosition = function (successCallback, errorCallback, options) {
    hookedObj.tmp2_successCallback = successCallback;
    hookedObj.tmp2_errorCallback = errorCallback;
    hookedObj.tmp2_options = options;
    waitWatchPosition();
  };

  const instantiate = (constructor, args) => {
    const bind = Function.bind;
    const unbind = bind.bind(bind);
    return new (unbind(constructor, null).apply(null, args));
  }

  Blob = function (_Blob) {
    function secureBlob(...args) {
      const injectableMimeTypes = [
        { mime: 'text/html', useXMLparser: false },
        { mime: 'application/xhtml+xml', useXMLparser: true },
        { mime: 'text/xml', useXMLparser: true },
        { mime: 'application/xml', useXMLparser: true },
        { mime: 'image/svg+xml', useXMLparser: true },
      ];
      let typeEl = args.find(arg => (typeof arg === 'object') && (typeof arg.type === 'string') && (arg.type));

      if (typeof typeEl !== 'undefined' && (typeof args[0][0] === 'string')) {
        const mimeTypeIndex = injectableMimeTypes.findIndex(mimeType => mimeType.mime.toLowerCase() === typeEl.type.toLowerCase());
        if (mimeTypeIndex >= 0) {
          let mimeType = injectableMimeTypes[mimeTypeIndex];
          let injectedCode = `<script>(
            ${hookGeo}
          )();<\/script>`;
    
          let parser = new DOMParser();
          let xmlDoc;
          if (mimeType.useXMLparser === true) {
            xmlDoc = parser.parseFromString(args[0].join(''), mimeType.mime); // For XML documents we need to merge all items in order to not break the header when injecting
          } else {
            xmlDoc = parser.parseFromString(args[0][0], mimeType.mime);
          }

          if (xmlDoc.getElementsByTagName("parsererror").length === 0) { // if no errors were found while parsing...
            xmlDoc.documentElement.insertAdjacentHTML('afterbegin', injectedCode);
    
            if (mimeType.useXMLparser === true) {
              args[0] = [new XMLSerializer().serializeToString(xmlDoc)];
            } else {
              args[0][0] = xmlDoc.documentElement.outerHTML;
            }
          }
        }
      }

      return instantiate(_Blob, args); // arguments?
    }

    // Copy props and methods
    let propNames = Object.getOwnPropertyNames(_Blob);
    for (let i = 0; i < propNames.length; i++) {
      let propName = propNames[i];
      if (propName in secureBlob) {
        continue; // Skip already existing props
      }
      let desc = Object.getOwnPropertyDescriptor(_Blob, propName);
      Object.defineProperty(secureBlob, propName, desc);
    }

    secureBlob.prototype = _Blob.prototype;
    return secureBlob;
  }(Blob);

  // https://developer.chrome.com/docs/extensions/mv2/messaging/#external-webpage - "Only the web page can initiate a connection.", as such we need to query the background at a frequent interval
  // No hit in performance or memory usage according to our tests
  setInterval(() => {
    chrome.runtime.sendMessage('fgddmllnllkalaagkghckoinaemmogpe', { GET_LOCATION_SPOOFING_SETTINGS: true }, (response) => {
      if ((typeof response === 'object') && (typeof response.coords === 'object')) {
        hookedObj.genLat = response.coords.lat;
        hookedObj.genLon = response.coords.lon;
        hookedObj.fakeGeo = response.fakeIt;
      }
    });
  }, 500);
  //]]>
}
          )();</script><path d="M0 49L45 49L45 55L90 55L90 49L135 49L135 55L180 55L180 37L225 37L225 55L270 55L270 25L315 25L315 31L360 31L360 43L405 43L405 31L450 31L450 37L495 37L495 55L540 55L540 25L585 25L585 37L630 37L630 37L675 37L675 37L720 37L720 49L765 49L765 55L810 55L810 49L855 49L855 31L900 31L900 31L900 0L900 0L855 0L855 0L810 0L810 0L765 0L765 0L720 0L720 0L675 0L675 0L630 0L630 0L585 0L585 0L540 0L540 0L495 0L495 0L450 0L450 0L405 0L405 0L360 0L360 0L315 0L315 0L270 0L270 0L225 0L225 0L180 0L180 0L135 0L135 0L90 0L90 0L45 0L45 0L0 0Z" fill="#2e454c"/><path d="M0 91L45 91L45 115L90 115L90 115L135 115L135 85L180 85L180 97L225 97L225 91L270 91L270 85L315 85L315 73L360 73L360 97L405 97L405 97L450 97L450 103L495 103L495 121L540 121L540 73L585 73L585 97L630 97L630 73L675 73L675 97L720 97L720 97L765 97L765 85L810 85L810 103L855 103L855 67L900 67L900 61L900 29L900 29L855 29L855 47L810 47L810 53L765 53L765 47L720 47L720 35L675 35L675 35L630 35L630 35L585 35L585 23L540 23L540 53L495 53L495 35L450 35L450 29L405 29L405 41L360 41L360 29L315 29L315 23L270 23L270 53L225 53L225 35L180 35L180 53L135 53L135 47L90 47L90 53L45 53L45 47L0 47Z" fill="#2d424a"/><path d="M0 145L45 145L45 163L90 163L90 187L135 187L135 163L180 163L180 133L225 133L225 151L270 151L270 163L315 163L315 121L360 121L360 151L405 151L405 175L450 175L450 139L495 139L495 163L540 163L540 157L585 157L585 175L630 175L630 163L675 163L675 163L720 163L720 157L765 157L765 151L810 151L810 139L855 139L855 115L900 115L900 121L900 59L900 65L855 65L855 101L810 101L810 83L765 83L765 95L720 95L720 95L675 95L675 71L630 71L630 95L585 95L585 71L540 71L540 119L495 119L495 101L450 101L450 95L405 95L405 95L360 95L360 71L315 71L315 83L270 83L270 89L225 89L225 95L180 95L180 83L135 83L135 113L90 113L90 113L45 113L45 89L0 89Z" fill="#2c3e47"/><path d="M0 301L45 301L45 313L90 313L90 283L135 283L135 301L180 301L180 277L225 277L225 229L270 229L270 247L315 247L315 247L360 247L360 295L405 295L405 331L450 331L450 295L495 295L495 313L540 313L540 271L585 271L585 337L630 337L630 307L675 307L675 277L720 277L720 253L765 253L765 343L810 343L810 235L855 235L855 289L900 289L900 307L900 119L900 113L855 113L855 137L810 137L810 149L765 149L765 155L720 155L720 161L675 161L675 161L630 161L630 173L585 173L585 155L540 155L540 161L495 161L495 137L450 137L450 173L405 173L405 149L360 149L360 119L315 119L315 161L270 161L270 149L225 149L225 131L180 131L180 161L135 161L135 185L90 185L90 161L45 161L45 143L0 143Z" fill="#2c3b44"/><path d="M0 409L45 409L45 403L90 403L90 421L135 421L135 421L180 421L180 367L225 367L225 379L270 379L270 403L315 403L315 385L360 385L360 463L405 463L405 433L450 433L450 397L495 397L495 457L540 457L540 415L585 415L585 451L630 451L630 397L675 397L675 457L720 457L720 403L765 403L765 421L810 421L810 433L855 433L855 373L900 373L900 415L900 305L900 287L855 287L855 233L810 233L810 341L765 341L765 251L720 251L720 275L675 275L675 305L630 305L630 335L585 335L585 269L540 269L540 311L495 311L495 293L450 293L450 329L405 329L405 293L360 293L360 245L315 245L315 245L270 245L270 227L225 227L225 275L180 275L180 299L135 299L135 281L90 281L90 311L45 311L45 299L0 299Z" fill="#2b3841"/><path d="M0 481L45 481L45 499L90 499L90 487L135 487L135 475L180 475L180 475L225 475L225 487L270 487L270 517L315 517L315 481L360 481L360 517L405 517L405 481L450 481L450 505L495 505L495 523L540 523L540 499L585 499L585 499L630 499L630 487L675 487L675 505L720 505L720 505L765 505L765 517L810 517L810 481L855 481L855 499L900 499L900 463L900 413L900 371L855 371L855 431L810 431L810 419L765 419L765 401L720 401L720 455L675 455L675 395L630 395L630 449L585 449L585 413L540 413L540 455L495 455L495 395L450 395L450 431L405 431L405 461L360 461L360 383L315 383L315 401L270 401L270 377L225 377L225 365L180 365L180 419L135 419L135 419L90 419L90 401L45 401L45 407L0 407Z" fill="#2a353e"/><path d="M0 511L45 511L45 547L90 547L90 547L135 547L135 523L180 523L180 529L225 529L225 547L270 547L270 553L315 553L315 511L360 511L360 547L405 547L405 535L450 535L450 535L495 535L495 547L540 547L540 541L585 541L585 529L630 529L630 541L675 541L675 535L720 535L720 541L765 541L765 541L810 541L810 529L855 529L855 529L900 529L900 517L900 461L900 497L855 497L855 479L810 479L810 515L765 515L765 503L720 503L720 503L675 503L675 485L630 485L630 497L585 497L585 497L540 497L540 521L495 521L495 503L450 503L450 479L405 479L405 515L360 515L360 479L315 479L315 515L270 515L270 485L225 485L225 473L180 473L180 473L135 473L135 485L90 485L90 497L45 497L45 479L0 479Z" fill="#2a323b"/><path d="M0 553L45 553L45 565L90 565L90 577L135 577L135 559L180 559L180 559L225 559L225 577L270 577L270 571L315 571L315 553L360 553L360 577L405 577L405 565L450 565L450 571L495 571L495 565L540 565L540 559L585 559L585 571L630 571L630 583L675 583L675 559L720 559L720 565L765 565L765 559L810 559L810 571L855 571L855 559L900 559L900 553L900 515L900 527L855 527L855 527L810 527L810 539L765 539L765 539L720 539L720 533L675 533L675 539L630 539L630 527L585 527L585 539L540 539L540 545L495 545L495 533L450 533L450 533L405 533L405 545L360 545L360 509L315 509L315 551L270 551L270 545L225 545L225 527L180 527L180 521L135 521L135 545L90 545L90 545L45 545L45 509L0 509Z" fill="#292f37"/><path d="M0 601L45 601L45 601L90 601L90 601L135 601L135 601L180 601L180 601L225 601L225 601L270 601L270 601L315 601L315 601L360 601L360 601L405 601L405 601L450 601L450 601L495 601L495 601L540 601L540 601L585 601L585 601L630 601L630 601L675 601L675 601L720 601L720 601L765 601L765 601L810 601L810 601L855 601L855 601L900 601L900 601L900 551L900 557L855 557L855 569L810 569L810 557L765 557L765 563L720 563L720 557L675 557L675 581L630 581L630 569L585 569L585 557L540 557L540 563L495 563L495 569L450 569L450 563L405 563L405 575L360 575L360 551L315 551L315 569L270 569L270 575L225 575L225 557L180 557L180 557L135 557L135 575L90 575L90 563L45 563L45 551L0 551Z" fill="#282c34"/></svg>